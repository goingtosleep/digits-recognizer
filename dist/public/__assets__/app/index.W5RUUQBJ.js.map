{
  "version": 3,
  "sources": ["../node_modules/imba/src/imba/utils.imba", "../node_modules/imba/src/imba/scheduler.imba", "../node_modules/imba/src/imba/manifest.web.imba", "../node_modules/imba/src/imba/asset.imba", "../node_modules/imba/src/imba/dom/flags.imba", "../node_modules/imba/src/imba/dom/core.web.imba", "../node_modules/imba/src/imba/dom/fragment.imba", "../node_modules/imba/src/imba/dom/component.imba", "../node_modules/imba/src/imba/dom/styles.imba", "../node_modules/imba/src/imba/dom/context.imba", "../node_modules/imba/src/imba/dom/mount.imba", "../node_modules/imba/src/imba/dom/bind.imba", "../node_modules/imba/src/imba/events/core.imba", "img:app/assets/logo.svg", "index.imba"],
  "sourcesContent": ["const dashRegex = /-./g\n\nexport class LazyProxy\n\tstatic def for getter\n\t\tnew Proxy({}, new self(getter))\n\n\tdef constructor getter\n\t\tgetter = getter\n\t\n\tget target\n\t\tgetter!\n\n\tdef get _, key\n\t\ttarget[key]\n\t\n\tdef set _, key, value\n\t\ttarget[key] = value\n\t\treturn true\n\nexport def proxy getter, placeholder = {}\n\tnew Proxy(placeholder, new LazyProxy(getter))\n\nexport def parseTime value\n\tlet typ = typeof value\n\tif typ == 'number'\n\t\treturn value\n\n\tif typ == 'string'\n\t\tif (/^\\d+fps$/).test(value)\n\t\t\treturn 1000 / parseFloat(value)\n\t\telif (/^([-+]?[\\d\\.]+)s$/).test(value)\n\t\t\treturn parseFloat(value) * 1000\n\t\telif (/^([-+]?[\\d\\.]+)ms$/).test(value)\n\t\t\treturn parseFloat(value)\n\t# throw or return NaN?\n\treturn null\n\t\n\nexport def serializeData data\n\tlet map = new Map\n\tlet arr = []\n\tlet logging = no\n\tlet replacer = do(key,value)\n\t\tif value and value.#type and key !== ''\n\t\t\tlet ref = map.get(value) # value[sym] ||= \"$${nr++}$$\"\n\t\t\tunless map.has(value)\n\t\t\t\tmap.set(value,ref = \"$${arr.length}$$\")\n\t\t\t\tarr.push(value)\n\t\t\treturn key == null ? value : ref\n\t\tvalue\n\n\tlet json = JSON.stringify(data,replacer,2)\n\tlet i = 0\n\tlogging = yes\n\twhile i < arr.length\n\t\tarr[i] = JSON.stringify(arr[i],replacer,2)\n\t\ti++\n\n\tlet inject = \"\"\n\tfor item,i in arr\n\t\tinject += \"\\\"$${i}$$\\\":{item},\\n\"\n\tjson = '{' + inject + json.slice(1)\n\treturn json\n\t\n\nexport def deserializeData data, reviver = null\n\tlet objects = {}\n\tlet reg = /\\$\\$\\d+\\$\\$/\n\tlet lookup = do(value)\n\t\treturn objects[value] ||= reviver ? reviver(value) : {}\n\n\tlet parser = do(key,value)\n\t\tif typeof value == 'string'\n\t\t\tif value[0] == '$' and reg.test(value)\n\t\t\t\treturn lookup(value)\n\t\telif typeof key == 'string' and key[0] == '$' and reg.test(key)\n\t\t\tlet obj = lookup(key)\n\t\t\tObject.assign(obj,value)\n\t\t\treturn obj\n\n\t\treturn value\n\n\tlet parsed = JSON.parse(data,parser)\n\treturn parsed\n\nexport def patchManifest prev, curr\n\tlet origs = {}\n\tlet diff = {\n\t\tadded: []\n\t\tchanged: []\n\t\tremoved: []\n\t\tall: []\n\t\turls: {}\n\t}\n\n\tif prev.assets\n\t\tfor item in prev.assets\n\t\t\tlet ref = item.originalPath or item.path\n\t\t\torigs[ref] = item\n\t\t\tif item.url\n\t\t\t\t# add old urls to the new manifest\n\t\t\t\tcurr.urls[item.url] ||= item\n\t\n\tfor item in (curr.assets or [])\n\t\tlet ref = item.originalPath or item.path\n\t\tlet orig = origs[ref]\n\n\t\tif item.url and prev.urls\n\t\t\tprev.urls[item.url] = item\n\n\t\tif orig\n\t\t\tif orig.hash != item.hash\n\t\t\t\torig.invalidated = Date.now!\n\t\t\t\torig.replacedBy = item\n\t\t\t\titem.replaces = orig\n\t\t\t\tdiff.changed.push(item)\n\t\t\t\tdiff.all.push(item)\n\n\t\t\t\tif orig == prev.main\n\t\t\t\t\tdiff.main = item\n\n\t\t\tdelete origs[ref]\n\t\telse\n\t\t\tdiff.added.push(item)\n\t\t\tdiff.all.push(item)\n\n\t# these are the items that are no longer referencd\n\tfor own path,item of origs\n\t\titem.removed = Date.now!\n\t\tdiff.all.push(item)\n\n\tfor item in diff.all\n\t\tlet typ = diff[item.type] ||= []\n\t\ttyp.push(item)\n\n\tdiff.removed = Object.values(origs)\n\tcurr.changes = diff\n\treturn curr\n\nexport def toCamelCase str\n\tif str.indexOf('-') >= 0\n\t\tstr.replace(dashRegex) do $1.charAt(1).toUpperCase!\n\telse\n\t\tstr\n\n\n# Basic events - move to separate file?\nconst emit__ = do(event, args, node)\n\tlet prev\n\tlet cb\n\tlet ret\n\n\twhile (prev = node) and (node = node.next)\n\t\tif cb = node.listener\n\t\t\tif node.path and cb[node.path]\n\t\t\t\tret = args ? cb[node.path].apply(cb,args) : cb[node.path]()\n\t\t\telse\n\t\t\t\t# check if it is a method?\n\t\t\t\tret = args ? cb.apply(node, args) : cb.call(node)\n\n\t\tif node.times && --node.times <= 0\n\t\t\tprev.next = node.next\n\t\t\tnode.listener = null\n\treturn\n\n# method for registering a listener on object\nexport def listen obj, event, listener, path\n\tlet cbs\n\tlet list\n\tlet tail\n\tcbs = obj.#__listeners__ ||= {}\n\tlist = cbs[event] ||= {}\n\ttail = list.tail || (list.tail = (list.next = {}))\n\ttail.listener = listener\n\ttail.path = path\n\tlist.tail = tail.next = {}\n\treturn tail\n\n# register a listener once\nexport def once obj, event, listener\n\tlet tail = listen(obj,event,listener)\n\ttail.times = 1\n\treturn tail\n\n# remove a listener\nexport def unlisten obj, event, cb, meth\n\tlet node\n\tlet prev\n\tlet meta = obj.#__listeners__\n\treturn unless meta\n\n\tif node = meta[event]\n\t\twhile (prev = node) and (node = node.next)\n\t\t\tif node == cb || node.listener == cb\n\t\t\t\tprev.next = node.next\n\t\t\t\t# check for correct path as well?\n\t\t\t\tnode.listener = null\n\t\t\t\tbreak\n\treturn\n\n# emit event\nexport def emit obj, event, params\n\tif let cb = obj.#__listeners__\n\t\temit__(event,params,cb[event]) if cb[event]\n\t\temit__(event,[event,params],cb.all) if cb.all\n\treturn", "# imba$imbaPath=global\nlet rAF = global.requestAnimationFrame || (do(blk) setTimeout(blk,1000 / 60))\nlet FPS = 60\nlet SPF = 1 / 60\n\t\t\n# Scheduler\nclass Scheduled\n\towner = null\n\ttarget = null\n\tactive = no\n\tvalue = undefined\n\tskip = 0\n\tlast = 0\n\n\tdef tick scheduler\n\t\tlast = owner.#frames\n\t\ttarget.tick(owner)\n\t\t1\n\n\tdef update o, activate?\n\t\tlet on = active\n\t\tlet val = o.value\n\t\tlet changed = value != val\n\n\t\tif changed\n\t\t\tdeactivate!\n\t\t\tvalue = val\n\n\t\tif value or on or activate?\n\t\t\tactivate!\n\t\tself\n\n\tdef queue\n\t\towner.add(self)\n\t\treturn\n\n\tdef activate\n\t\tif value === yes\n\t\t\towner.on('commit',self)\n\t\telif value === no\n\t\t\tyes\n\t\telif typeof value == 'number'\n\t\t\t# duration\n\t\t\tlet tock = value / (1000 / 60)\n\t\t\tif tock <= 2 \n\t\t\t\towner.on('raf',self)\n\t\t\telse\n\t\t\t\t#interval = global.setInterval(queue.bind(self),value)\n\n\t\tactive = yes\n\t\tself\n\n\tdef deactivate\n\t\tif value === yes\n\t\t\towner.un('commit',self)\n\t\towner.un('raf',self)\n\n\t\tif #interval\n\t\t\tglobal.clearInterval(#interval)\n\t\t\t#interval = null\n\n\t\tactive = no\n\t\tself\n\nexport class Scheduler\n\tdef constructor\n\t\tid = Symbol!\n\t\tself.queue = []\n\t\tself.stage = -1\n\t\t#stage = -1\n\t\t#frames = 0\n\t\t#scheduled = no\n\t\t\n\t\tself.listeners = {}\n\t\tself.intervals = {}\n\t\tself.commit = do\n\t\t\tadd('commit')\n\t\t\treturn self\n\n\t\t#fps = 0\n\n\t\t$promise = null\n\t\t$resolve = null\n\t\t#ticker = do(e)\n\t\t\t#scheduled = no\n\t\t\tself.tick(e)\n\t\tself\n\n\tdef add item, force\n\t\tif force or self.queue.indexOf(item) == -1\n\t\t\tself.queue.push(item)\n\n\t\t#schedule! unless #scheduled\n\t\treturn self\n\n\tdef listen ns, item\n\t\tlet set = listeners[ns]\n\t\tlet first = !set\n\t\tset ||= listeners[ns] = new Set\n\t\tset.add(item)\n\n\t\tadd('raf') if ns == 'raf' and first\n\t\tself\t\n\n\tdef unlisten ns, item\n\t\tlet set = listeners[ns]\n\t\tset && set.delete(item)\n\t\tif ns == 'raf' and set and set.size == 0\n\t\t\tdelete listeners.raf\n\t\tself\n\n\tdef on ns,item\n\t\tlisten(ns,item)\n\n\tdef un ns,item\n\t\tunlisten(ns,item)\n\n\tget promise\n\t\t$promise ||= new Promise do(resolve)\n\t\t\t$resolve = resolve\n\n\tdef tick timestamp\n\t\tlet items = self.queue\n\t\tlet frame = #frames++\n\t\tself.ts = timestamp unless self.ts\n\t\tself.dt = timestamp - self.ts\n\t\tself.ts = timestamp\n\t\tself.queue = []\n\t\t#stage = 1\n\n\t\t# calculate frames elapsed since last tick etc?\n\n\t\tif items.length\n\t\t\tfor item,i in items\n\t\t\t\tif typeof item === 'string' && listeners[item]\n\t\t\t\t\tlisteners[item].forEach do |item|\n\t\t\t\t\t\tif item.tick isa Function\n\t\t\t\t\t\t\titem.tick(self)\n\t\t\t\t\t\telif item isa Function\n\t\t\t\t\t\t\titem(self)\n\t\t\t\telif item isa Function\n\t\t\t\t\titem(self.dt,self)\n\t\t\t\telif item.tick\n\t\t\t\t\titem.tick(self.dt,self)\n\n\t\t#stage = #scheduled ? 0 : -1\n\n\t\tif $promise\n\t\t\t$resolve(self)\n\t\t\t$promise = $resolve = null\n\n\t\tif listeners.raf and true\n\t\t\tadd('raf')\n\t\tself\n\n\tdef #schedule\n\t\tif !#scheduled\n\t\t\t#scheduled = yes\n\t\t\t#stage = 0 if #stage == -1\n\t\t\trAF(#ticker)\n\t\tself\n\n\tdef schedule item, o\n\t\to ||= (item[id] ||= {value: yes})\n\t\tlet state = o[id] ||= new Scheduled(owner: self, target: item)\n\t\tstate.update(o,yes)\n\n\tdef unschedule item, o = {}\n\t\to ||= item[id]\n\t\tlet state = o and o[id]\n\t\tif state and state.active\n\t\t\tstate.deactivate!\n\t\tself\n\nexport const scheduler = new Scheduler \n\nexport def commit\n\tscheduler.add('commit').promise\n\nexport def setTimeout fn,ms\n\tglobal.setTimeout(&,ms) do\n\t\tfn!\n\t\tcommit!\n\t\treturn\n\nexport def setInterval fn,ms\n\tglobal.setInterval(&,ms) do\n\t\tfn!\n\t\tcommit!\n\t\treturn\n\nexport const clearInterval = global.clearInterval\nexport const clearTimeout = global.clearTimeout", "class Manifest\n\tdef constructor\n\t\tdata = {}\n\nexport const manifest = new Manifest\n", "# create proxy\n\nimport {manifest} from './manifest'\n\nclass AssetProxy\n\tstatic def wrap meta\n\t\tlet handler = new AssetProxy(meta)\n\t\tnew Proxy(handler,handler)\n\n\tdef constructor meta\n\t\tmeta = meta\n\n\tget input\n\t\tmanifest.inputs[meta.input]\n\n\tget asset\n\t\tglobalThis._MF_ ? meta : input.asset\n\t\n\tdef set target, key, value\n\t\treturn true\n\n\tdef get target, key\n\t\tif meta.meta and meta.meta[key] != undefined\n\t\t\treturn meta.meta[key]\n\n\t\tasset[key]\n\nclass SVGAsset\n\tprop url\n\tprop meta\n\n\tdef adoptNode node\n\t\tif meta..content\n\t\t\tfor own k,v of meta.attributes\n\t\t\t\tnode.setAttribute(k,v)\n\t\t\tnode.innerHTML = meta.content\n\t\tself\n\t\n\tdef toString\n\t\turl\n\t\n\tdef toStyleString\n\t\t\"url({url})\"\n\n\nexport def asset data\n\tif data.#asset\n\t\treturn data.#asset\n\n\tif data.type == 'svg'\n\t\treturn data.#asset ||= new SVGAsset(data)\n\t\n\tif data.input\n\t\tlet extra = globalThis._MF_ and globalThis._MF_[data.input]\n\t\tif extra\n\t\t\tObject.assign(data,extra)\n\t\t\tdata.#asset = data\n\n\t\treturn data.#asset ||= AssetProxy.wrap(data)\n\t\n\treturn data", "export class Flags\n\n\tdef constructor dom\n\t\tdom = dom\n\t\tstring = \"\"\n\n\tdef contains ref\n\t\treturn dom.classList.contains(ref)\n\n\tdef add ref\n\t\treturn self if contains(ref)\n\t\tstring += (string ? ' ' : '') + ref\n\t\tdom.classList.add(ref)\n\t\t# sync!\n\t\treturn self\n\n\tdef remove ref\n\t\treturn self unless contains(ref)\n\t\tvar regex = new RegExp('(^|\\\\s)*' + ref + '(\\\\s|$)*', 'g')\n\t\tstring = string.replace(regex, '')\n\t\tdom.classList.remove(ref)\n\t\t# sync!\n\t\treturn self\n\n\tdef toggle ref, bool\n\t\tbool = !contains(ref) if bool === undefined\n\t\tbool ? add(ref) : remove(ref)\n\t\t\n\tdef incr ref\n\t\tlet m = stacks ||= {}\n\t\tlet c = m[ref] or 0\n\t\tadd(ref) if c < 1\n\t\tm[ref] = Math.max(c,0) + 1\n\t\treturn self\n\t\n\tdef decr ref\n\t\tlet m = stacks ||= {}\n\t\tlet c = m[ref] or 0\n\t\tremove(ref) if c == 1\n\t\tm[ref] = Math.max(c,1) - 1\n\t\treturn self\n\n\tdef valueOf\n\t\tstring\n\n\tdef toString\n\t\tstring\n\n\tdef sync\n\t\tdom.flagSync$!", "import {Flags} from './flags'\n\nexport const {\n\tEvent,\n\tUIEvent,\n\tMouseEvent,\n\tPointerEvent,\n\tKeyboardEvent,\n\tCustomEvent,\n\tNode,\n\tComment,\n\tText,\n\tElement,\n\tHTMLElement,\n\tHTMLHtmlElement,\n\tHTMLSelectElement,\n\tHTMLInputElement,\n\tHTMLTextAreaElement,\n\tHTMLButtonElement,\n\tHTMLOptionElement,\n\tHTMLScriptElement,\n\tSVGElement,\n\tDocumentFragment,\n\tShadowRoot,\n\tDocument,\n\tWindow,\n\tcustomElements\n} = global.window\n\n# export const document = global.window.document\nconst CustomTagConstructors = {}\nconst CustomTagToElementNames = {}\nexport const TYPES = {}\nexport const CUSTOM_TYPES = {}\nexport def get_document\n\tglobal.document\n\nexport def use_window\n\tyes\n\n\n\n# Basic node extensions\n\nconst contextHandler =\n\tdef get target, name\n\t\tlet ctx = target\n\t\tlet val = undefined\n\t\twhile ctx and val == undefined\n\t\t\tif ctx = ctx.#parent\n\t\t\t\tval = ctx[name]\n\t\treturn val\n\nextend class Document\n\tget flags\n\t\tself.documentElement.flags\n\nextend class Node\n\tget #parent\n\t\t##parent or this.parentNode or ##up # FIX\n\n\tget #context\n\t\t##context ||= new Proxy(self,contextHandler)\n\n\tdef #init\n\t\tself\n\n\t# replace this with something else\n\tdef replaceWith$ other\n\t\tif !(other isa Node) and other.replace$\n\t\t\tother.replace$(this)\n\t\telse\n\t\t\tself.parentNode.replaceChild(other,this)\n\t\treturn other\n\n\tdef insertInto$ parent\n\t\tparent.appendChild$(this)\n\t\treturn this\n\n\tdef insertBefore$ el, prev\n\t\tthis.insertBefore(el,prev)\n\n\tdef insertBeforeBegin$ other\n\t\tself.parentNode.insertBefore(other,this)\n\n\tdef insertAfterEnd$ other\n\t\tif self.nextSibling\n\t\t\tself.nextSibling.insertBeforeBegin$(other)\n\t\telse\n\t\t\tself.parentNode.appendChild(other)\n\t\n\tdef insertAfterBegin$ other\n\t\tif self.childNodes[0]\n\t\t\tself.childNodes[0].insertBeforeBegin$(other)\n\t\telse\n\t\t\tself.appendChild(other)\n\n\tget #placeholderNode\n\t\t##placeholderNode ||= global.document.createComment(\"\")\n\n\tdef #attachToParent\n\t\tlet ph = #placeholderNode\n\t\tif ph.parentNode and ph != self\n\t\t\tph.replaceWith$(self)\n\t\tself\n\n\tdef #detachFromParent route\n\t\tlet ph = #placeholderNode\n\t\tif parentNode and ph != self\n\t\t\tself.replaceWith$(ph)\n\t\t\t# TODO add detached flag?\n\t\tself\n\n# Basic element extensions\nextend class Element\n\t\n\tdef log ...params\n\t\tconsole.log(...params)\n\t\tself\n\n\tdef slot$ name, ctx\n\t\treturn self\n\n\t# inline in files or remove all together?\n\tdef text$ item\n\t\tself.textContent = item\n\t\tself\n\n\tdef insert$ item, f, prev\n\t\tlet type = typeof item\n\n\t\tif type === 'undefined' or item === null\n\t\t\t# what if the prev value was the same?\n\t\t\tif prev and prev isa Comment # check perf\n\t\t\t\treturn prev\n\n\t\t\tlet el = document.createComment('')\n\t\t\tprev ? prev.replaceWith$(el) : el.insertInto$(this)\n\t\t\treturn el\n\n\t\t# dont reinsert again\n\t\tif item === prev\n\t\t\treturn item\n\n\t\t# what if this is null or undefined -- add comment and return? Or blank text node?\n\t\telif type !== 'object'\n\t\t\tlet res\n\t\t\tlet txt = item\n\t\t\t\n\t\t\tif (f & $TAG_FIRST_CHILD$) && (f & $TAG_LAST_CHILD$)\n\t\t\t\t# FIXME what if the previous one was not text? Possibly dangerous\n\t\t\t\t# when we set this on a fragment - it essentially replaces the whole\n\t\t\t\t# fragment?\n\t\t\t\tself.textContent = txt\n\t\t\t\treturn\n\n\t\t\tif prev\n\t\t\t\tif prev isa Text # check perf\n\t\t\t\t\tprev.textContent = txt\n\t\t\t\t\treturn prev\n\t\t\t\telse\n\t\t\t\t\tres = document.createTextNode(txt)\n\t\t\t\t\tprev.replaceWith$(res,self)\n\t\t\t\t\treturn res\n\t\t\telse\n\t\t\t\tself.appendChild$(res = document.createTextNode(txt))\n\t\t\t\treturn res\t\n\n\t\telse\n\t\t\tprev ? prev.replaceWith$(item,self) : item.insertInto$(self)\n\t\t\treturn item\n\t\treturn\n\n\tdef open$\n\t\tself\n\n\tdef close$\n\t\tself\n\n\tdef end$\n\t\tself.render() if self.render\n\t\treturn\n\n\tget flags\n\t\tunless $flags\n\t\t\t# unless deopted - we want to first cache the extflags\n\t\t\t$flags = new Flags(self)\n\t\t\tif flag$ == Element.prototype.flag$\n\t\t\t\tflags$ext = self.className\n\t\t\tflagDeopt$()\n\t\treturn $flags\n\n\tdef flag$ str\n\t\t# Potentially slow\n\t\tlet ns = flags$ns\n\t\tself.className = ns ? (ns + (flags$ext = str)) : (flags$ext = str)\n\t\treturn\n\t\t\n\tdef flagDeopt$\n\t\tself.flag$ = self.flagExt$ # do(str) self.flagSync$(flags$ext = str)\n\t\tself.flagSelf$ = do(str) self.flagSync$(flags$own = str)\n\t\treturn\n\t\t\n\tdef flagExt$ str\n\t\tself.flagSync$(flags$ext = str)\n\n\tdef flagSelf$ str\n\t\t# if a tag receives flags from inside <self> we need to\n\t\t# redefine the flag-methods to later use both\n\t\tflagDeopt$()\n\t\treturn flagSelf$(str)\n\n\tdef flagSync$\n\t\tself.className = ((flags$ns or '') + (flags$ext or '') + ' ' + (flags$own || '') + ' ' + ($flags or ''))\n\n\nElement.prototype.appendChild$  = Element.prototype.appendChild\nElement.prototype.removeChild$  = Element.prototype.removeChild\nElement.prototype.insertBefore$ = Element.prototype.insertBefore\nElement.prototype.replaceChild$ = Element.prototype.replaceChild\nElement.prototype.set$ = Element.prototype.setAttribute\nElement.prototype.setns$ = Element.prototype.setAttributeNS\n\nexport def createElement name, parent, flags, text\n\tlet el = document.createElement(name)\n\t\t\n\tel.className = flags if flags\n\n\tif text !== null\n\t\tel.text$(text)\n\n\tif parent and parent isa Node\n\t\tel.insertInto$(parent)\n\n\treturn el\n\n\nconst descriptorCache = {}\ndef getDescriptor item,key,cache\n\tif !item\n\t\treturn cache[key] = null\n\n\tif cache[key] !== undefined\n\t\treturn cache[key]\n\t\n\tlet desc = Object.getOwnPropertyDescriptor(item,key)\n\n\tif desc !== undefined or item == SVGElement\n\t\treturn cache[key] = desc or null\n\n\tgetDescriptor(Reflect.getPrototypeOf(item),key,cache)\n\nextend class SVGElement\n\n\tdef set$ key,value\n\t\tlet cache = descriptorCache[nodeName] ||= {}\n\t\tlet desc = getDescriptor(this,key,cache)\n\n\t\tif !desc or !desc.set\n\t\t\tsetAttribute(key,value)\n\t\telse\n\t\t\tself[key] = value\n\t\treturn\n\n\tdef flag$ str\n\t\tlet ns = flags$ns\n\t\tself.className.baseVal = ns ? (ns + (flags$ext = str)) : (flags$ext = str)\n\t\treturn\n\n\tdef flagSelf$ str\n\t\t# if a tag receives flags from inside <self> we need to\n\t\t# redefine the flag-methods to later use both\n\t\tself.flag$ = do(str) self.flagSync$(flags$ext = str)\n\t\tself.flagSelf$ = do(str) self.flagSync$(flags$own = str)\n\t\treturn flagSelf$(str)\n\n\tdef flagSync$\n\t\tself.className.baseVal = ((flags$ns or '') + (flags$ext or '') + ' ' + (flags$own || '') + ' ' + ($flags or ''))\n\n\nextend class SVGSVGElement\n\n\tset src value\n\t\tif #src =? value\n\t\t\tif value..adoptNode\n\t\t\t\tvalue.adoptNode(self)\n\t\t\telif value..content\n\t\t\t\tfor own k,v of value.attributes\n\t\t\t\t\tsetAttribute(k,v)\n\t\t\t\tinnerHTML = value.content\n\t\treturn\n\n\t\t\n\nexport def createSVGElement name, parent, flags, text, ctx\n\tlet el = document.createElementNS(\"http://www.w3.org/2000/svg\",name)\n\n\tif flags\n\t\tel.className.baseVal = flags\n\n\tif parent and parent isa Node\n\t\tel.insertInto$(parent)\n\treturn el\n\nexport def createComment text\n\tdocument.createComment(text)\n\nexport def createFragment\n\tdocument.createDocumentFragment!\n\n\n\nconst vendor = global.navigator..vendor or ''\nconst ua = global.navigator..userAgent or ''\n\nconst isSafari = vendor.indexOf('Apple') > -1 || ua.indexOf('CriOS') >= 0 || ua.indexOf('FxiOS') >= 0\nconst supportsCustomizedBuiltInElements = !isSafari\nconst CustomDescriptorCache = new Map\n\nclass CustomHook < HTMLElement\n\tdef connectedCallback\n\t\tif supportsCustomizedBuiltInElements\n\t\t\tparentNode.removeChild(self)\n\t\telse\n\t\t\tparentNode.connectedCallback!\n\n\tdef disconnectedCallback\n\t\tif !supportsCustomizedBuiltInElements\n\t\t\tparentNode.disconnectedCallback!\n\nwindow.customElements.define('i-hook',CustomHook)\n\ndef getCustomDescriptors el, klass\n\tlet props = CustomDescriptorCache.get(klass)\n\n\tunless props\n\t\tprops = {}\n\t\tlet proto = klass.prototype\n\t\tlet protos = [proto]\n\t\twhile proto = (proto and Object.getPrototypeOf(proto))\n\t\t\tbreak if proto.constructor == el.constructor\n\t\t\tprotos.unshift(proto)\n\n\t\tfor item in protos\n\t\t\tlet desc = Object.getOwnPropertyDescriptors(item)\n\t\t\tObject.assign(props,desc)\n\t\tCustomDescriptorCache.set(klass,props)\n\n\treturn props\n\n# Registry\nexport def createComponent name, parent, flags, text, ctx\n\t# the component could have a different web-components name?\n\tlet el\n\t\n\tif typeof name != 'string'\n\t\tif name and name.nodeName\n\t\t\tname = name.nodeName\n\n\tlet cmpname = CustomTagToElementNames[name] or name\n\n\tif CustomTagConstructors[name]\n\t\tlet cls = CustomTagConstructors[name]\n\t\tlet typ = cls.prototype.#htmlNodeName\n\t\tif typ and supportsCustomizedBuiltInElements\n\t\t\tel = document.createElement(typ,is: name)\n\t\telif cls.create$ and typ\n\t\t\tel = document.createElement(typ)\n\t\t\tel.setAttribute('is',cmpname)\n\t\t\tlet props = getCustomDescriptors(el,cls)\n\t\t\tObject.defineProperties(el,props)\n\t\t\tel.__slots = {}\n\t\t\t# check if we need a hook though?\n\t\t\tel.appendChild(document.createElement('i-hook'))\n\t\telif cls.create$\n\t\t\tel = cls.create$(el)\n\t\t\tel.__slots = {}\n\t\telse\n\t\t\tconsole.warn \"could not create tag {name}\"\n\telse\n\t\tel = document.createElement(CustomTagToElementNames[name] or name)\n\n\tel.##parent = parent\n\tel.#init!\n\n\tif text !== null\n\t\tel.slot$('__').text$(text)\n\t\t\n\tif flags or el.flags$ns # or nsflag\n\t\tel.flag$(flags or '')\n\treturn el\n\nexport def getTagType name, klass\n\t# TODO follow same structure as ssr TYPES\n\tif TYPES[name]\n\t\treturn TYPES[name]\n\n\tif window[klass]\n\t\treturn window[klass]\n\n\tif window[name]\n\t\treturn window[name]\n\nexport def getSuperTagType name, klass, cmp\n\tlet typ = getTagType(name,klass)\n\tlet custom = typ == cmp or typ.prototype isa cmp or typ.prototype.#htmlNodeName\n\n\tif !custom\n\t\tlet cls = typ.prototype.#ImbaElement\n\n\t\tif !cls\n\t\t\tcls = class CustomBuiltInElement < typ\n\t\t\t\tdef constructor\n\t\t\t\t\tsuper\n\t\t\t\t\t__slots = {}\n\t\t\t\t\t__F = 0\n\n\t\t\ttyp.prototype.#ImbaElement = cls\n\t\t\tlet descriptors = Object.getOwnPropertyDescriptors(cmp.prototype)\n\t\t\tObject.defineProperties(cls.prototype,descriptors)\n\t\t\tcls.prototype.#htmlNodeName = name\n\n\t\treturn cls\n\n\treturn typ\n\nexport def defineTag name, klass, options = {}\n\tTYPES[name] = CUSTOM_TYPES[name] = klass\n\n\tklass.nodeName = name\n\n\tlet componentName = name\n\tlet proto = klass.prototype\n\n\tif name.indexOf('-') == -1\n\t\tcomponentName = \"{name}-tag\"\n\t\tCustomTagToElementNames[name] = componentName\n\n\tlet basens = proto._ns_\n\tif options.ns\n\t\tlet ns = options.ns\n\t\tlet flags = ns + ' ' + ns + '_ '\n\t\tif basens\n\t\t\tflags += proto.flags$ns \n\t\t\tns += ' ' + basens\n\t\tproto._ns_ = ns\n\t\tproto.flags$ns = flags\n\n\tif proto.#htmlNodeName\n\t\toptions.extends = proto.#htmlNodeName\n\n\tif options.extends\n\t\tproto.#htmlNodeName = options.extends\n\t\tCustomTagConstructors[name] = klass\n\n\t\tif supportsCustomizedBuiltInElements\n\t\t\twindow.customElements.define(componentName,klass,extends: options.extends)\n\telse\n\t\twindow.customElements.define(componentName,klass)\n\n\treturn klass", "import {Element,Text,DocumentFragment,createFragment,createComment} from './core'\n\nextend class DocumentFragment\n\n\tget #parent\n\t\t##up or ##parent\n\n\t# Called to make a documentFragment become a live fragment\n\tdef setup$ flags, options\n\t\t$start = createComment('start')\n\t\t$end = createComment('end')\n\n\t\t$end.replaceWith$ = do(other)\n\t\t\tthis.parentNode.insertBefore(other,this)\n\t\t\treturn other\n\n\t\tthis.appendChild($start)\n\t\tthis.appendChild($end)\n\t\n\t# when we for sure know that the only content should be\n\t# a single text node\n\tdef text$ item\n\t\tunless $text\n\t\t\t$text = this.insert$(item)\n\t\telse\n\t\t\t$text.textContent = item\n\t\treturn\n\t\n\tdef insert$ item, options, toReplace\n\t\tif ##parent\n\t\t\t# if the fragment is attached to a parent\n\t\t\t# we can just proxy the call through\n\t\t\t##parent.insert$(item,options,toReplace or $end)\n\t\telse\n\t\t\tElement.prototype.insert$.call(this,item,options,toReplace or $end)\n\n\tdef insertInto$ parent, before\n\t\tunless ##parent\n\t\t\t##parent = parent\n\t\t\t# console.log 'insertFrgment into',parent,Array.from(self.childNodes)\n\t\t\tparent.appendChild$(this)\n\t\treturn this\n\n\tdef replaceWith$ other, parent\n\t\t$start.insertBeforeBegin$(other)\n\t\tvar el = $start\n\t\twhile el\n\t\t\tlet next = el.nextSibling\n\t\t\tself.appendChild(el)\n\t\t\tbreak if el == $end\n\t\t\tel = next\n\t\t\t\n\t\treturn other\n\n\tdef appendChild$ child\n\t\t$end ? $end.insertBeforeBegin$(child) : self.appendChild(child)\n\t\treturn child\n\n\tdef removeChild$ child\n\t\tchild.parentNode && child.parentNode.removeChild(child)\n\t\tself\n\n\tdef isEmpty$\n\t\tlet el = $start\n\t\tlet end = $end\n\n\t\twhile el = el.nextSibling\n\t\t\tbreak if el == end\n\t\t\treturn false if el isa Element or el isa Text\n\t\treturn true\n\nclass VirtualFragment\n\tdef constructor f, parent\n\t\t__F = f\n\t\t#parent = parent\n\n\tdef appendChild$ item, index\n\t\t# we know that these items are dom elements\n\t\tif $end and #parent\n\t\t\t$end.insertBeforeBegin$(item)\n\t\telif #parent\n\t\t\t#parent.appendChild$(item)\n\t\treturn\n\n\tdef replaceWith$ other\n\t\tself.detachNodes()\n\t\t$end.insertBeforeBegin$(other)\n\t\t#parent.removeChild$($end)\n\t\t#parent = null\n\t\treturn\n\n\tdef joinBefore$ before\n\t\tself.insertInto$(before.parentNode,before)\n\n\tdef insertInto$ parent, before\n\t\tunless #parent\n\t\t\t#parent = parent\n\t\t\tbefore ? before.insertBeforeBegin$($end) : parent.appendChild$($end)\n\t\t\tself.attachNodes()\n\t\treturn this\n\t\n\tdef replace$ other\n\t\tunless #parent\n\t\t\t#parent = other.parentNode\n\t\tother.replaceWith$($end)\n\t\tself.attachNodes()\n\t\tself\n\t\t\n\tdef setup\n\t\tself\n\nclass KeyedTagFragment < VirtualFragment\n\t\n\tdef constructor f, parent\n\t\tsuper\n\n\t\tif !(f & $TAG_FIRST_CHILD$)\n\t\t\t$start = createComment('start')\n\t\t\tparent.appendChild$($start) if parent\n\n\t\tunless f & $TAG_LAST_CHILD$\n\t\t\t$end = createComment('end')\n\t\t\tparent.appendChild$($end) if parent\n\n\t\tself.setup()\n\n\tdef setup\n\t\tself.array = []\n\t\tself.changes = new Map\n\t\tself.dirty = no\n\t\tself.$ = {}\n\n\tdef push item, idx\n\t\t# on first iteration we can merely run through\n\t\tunless __F & $TAG_INITED$\n\t\t\tself.array.push(item)\n\t\t\tself.appendChild$(item)\n\t\t\treturn\n\n\t\tlet toReplace = self.array[idx]\n\n\t\tif toReplace === item\n\t\t\tyes\n\t\telse\n\t\t\tself.dirty = yes\n\t\t\t# if this is a new item\n\t\t\tlet prevIndex = self.array.indexOf(item)\n\t\t\tlet changed = self.changes.get(item)\n\n\t\t\tif prevIndex === -1\n\t\t\t\t# should we mark the one currently in slot as removed?\n\t\t\t\tself.array.splice(idx,0,item)\n\t\t\t\tself.insertChild(item,idx)\n\n\t\t\telif prevIndex === idx + 1\n\t\t\t\tif toReplace\n\t\t\t\t\tself.changes.set(toReplace,-1)\n\t\t\t\tself.array.splice(idx,1)\n\n\t\t\telse\n\t\t\t\tself.array.splice(prevIndex,1) if prevIndex >= 0\n\t\t\t\tself.array.splice(idx,0,item)\n\t\t\t\tself.insertChild(item,idx)\n\n\t\t\tif changed == -1\n\t\t\t\tself.changes.delete(item)\n\t\treturn\n\n\tdef insertChild item, index\n\t\tif index > 0\n\t\t\tlet other = self.array[index - 1]\n\t\t\t# will fail with text nodes\n\t\t\tother.insertAfterEnd$(item)\n\t\telif $start\n\t\t\t$start.insertAfterEnd$(item)\n\t\telse\n\t\t\t#parent.insertAfterBegin$(item)\n\t\treturn\n\n\tdef removeChild item, index\n\t\t# self.map.delete(item)\n\t\t# what if this is a fragment or virtual node?\n\t\tif item.parentNode == #parent\n\t\t\t#parent.removeChild(item)\n\t\treturn\n\n\tdef attachNodes\n\t\tfor item,i in self.array\n\t\t\t$end.insertBeforeBegin$(item)\n\t\treturn\n\n\tdef detachNodes\n\t\tfor item in self.array\n\t\t\t#parent.removeChild(item)\n\t\treturn\n\n\tdef end$ index\n\t\tunless __F & $TAG_INITED$\n\t\t\t__F |= $TAG_INITED$\n\t\t\treturn\n\n\t\tif self.dirty\n\t\t\tself.changes.forEach do |pos,item|\n\t\t\t\tif pos == -1\n\t\t\t\t\tself.removeChild(item)\n\t\t\tself.changes.clear()\n\t\t\tself.dirty = no\n\n\t\t# there are some items we should remove now\n\t\tif self.array.length > index\n\t\t\t\n\t\t\t# remove the children below\n\t\t\twhile self.array.length > index\n\t\t\t\tlet item = self.array.pop()\n\t\t\t\tself.removeChild(item)\n\t\t\t# self.array.length = index\n\t\treturn\n\nclass IndexedTagFragment < VirtualFragment\n\n\tdef constructor f, parent\n\t\tsuper\n\n\t\tunless f & $TAG_LAST_CHILD$\n\t\t\t$end = createComment('end')\n\t\t\tparent.appendChild$($end) if parent\n\n\t\tself.setup()\n\n\tdef setup\n\t\tself.$ = []\n\t\tself.length = 0\n\n\tdef end$ len\n\t\tlet from = self.length\n\t\treturn if from == len or !#parent\n\t\tlet array = self.$\n\t\tlet par = #parent\n\n\t\tif from > len\n\t\t\twhile from > len\n\t\t\t\tpar.removeChild$(array[--from])\n\t\telif len > from\n\t\t\twhile len > from\n\t\t\t\tself.appendChild$(array[from++])\n\t\tself.length = len\n\t\treturn\n\n\tdef attachNodes\n\t\tfor item,i in self.$\n\t\t\tbreak if i == self.length\n\t\t\t$end.insertBeforeBegin$(item)\n\t\treturn\n\n\tdef detachNodes\n\t\tlet i = 0\n\t\twhile i < self.length\n\t\t\tlet item = self.$[i++]\n\t\t\t#parent.removeChild$(item)\n\t\treturn\n\nexport def createLiveFragment bitflags, options, par\n\tconst el = createFragment!\n\tel.setup$(bitflags, options)\n\tel.##up = par if par\n\treturn el\n\nexport def createIndexedFragment bitflags, parent\n\treturn new IndexedTagFragment(bitflags,parent)\n\nexport def createKeyedFragment bitflags, parent\n\treturn new KeyedTagFragment(bitflags,parent)\n\n\n", "import {Node,HTMLElement,CUSTOM_TYPES} from './core'\nimport {createLiveFragment} from './fragment'\nimport {scheduler} from '../scheduler'\n\nconst hydrator = new class\n\titems = []\n\tcurrent = null\n\tlastQueued = null\n\ttests = 0\n\n\tdef flush\n\t\tlet item = null\n\n\t\tif false\n\t\t\tconsole.log 'flush hydrate',items,tests\n\t\t\tfor item,i in items\n\t\t\t\tlet next = items[i + 1]\n\t\t\t\tif next\n\t\t\t\t\tunless next.compareDocumentPosition(item) & Node.DOCUMENT_POSITION_PRECEDING\n\t\t\t\t\t\tconsole.log \"WRONG ORDER!!!\",item,next,next.compareDocumentPosition(item)\n\n\t\twhile item = items.shift!\n\t\t\tcontinue if !item.parentNode or item.hydrated?\n\t\t\t# Mark as inited to stop connectedCallback from early exit\n\t\t\tlet prev = current\n\t\t\tcurrent = item\n\t\t\titem.__F |= $EL_SSR$\n\t\t\titem.connectedCallback!\n\t\t\tcurrent = prev\n\t\treturn\n\n\tdef queue item\n\t\t# let len = items.push(item)\n\t\tlet len = items.length\n\t\tlet idx = 0\n\t\tlet prev = lastQueued\n\t\tlastQueued = item\n\n\t\tlet BEFORE = Node.DOCUMENT_POSITION_PRECEDING\n\t\tlet AFTER = Node.DOCUMENT_POSITION_FOLLOWING\n\n\t\tif len\n\t\t\tlet prevIndex = items.indexOf(prev)\n\t\t\tlet index = prevIndex\n\n\t\t\tlet compare = do(a,b)\n\t\t\t\ttests++\n\t\t\t\ta.compareDocumentPosition(b)\n\n\t\t\tif prevIndex == -1 or prev.nodeName != item.nodeName\n\t\t\t\tindex = prevIndex = 0\n\n\t\t\tlet curr = items[index]\n\n\t\t\twhile curr and compare(curr,item) & AFTER\n\t\t\t\tcurr = items[++index]\n\n\t\t\tif index != prevIndex\n\t\t\t\tcurr ? items.splice(index,0,item) : items.push(item)\n\t\t\telse\n\t\t\t\twhile curr and compare(curr,item) & BEFORE\n\t\t\t\t\tcurr = items[--index]\n\t\t\t\tif index != prevIndex\n\t\t\t\t\tcurr ? items.splice(index + 1,0,item) : items.unshift(item)\n\t\telse\n\t\t\titems.push(item)\n\t\t\tglobal.queueMicrotask(flush.bind(self)) if !current\n\n\t\treturn\n\n\tdef run item\n\t\treturn if active\n\t\t# look for parents that are still hydrated\n\t\t# only the ssr elements that are not yet awakened\n\t\tactive = yes\n\t\t# let all = global.document.getElementsByClassName('__ssr')\n\t\tlet all = global.document.querySelectorAll('.__ssr')\n\t\tconsole.log 'running hydrator',item,all.length,Array.from(all)\n\n\t\tfor item in all\n\t\t\titem.#count ||= 1\n\t\t\titem.#count++\n\t\t\tlet name = item.nodeName\n\t\t\tlet typ = map[name] ||= global.window.customElements.get(name.toLowerCase!) or HTMLElement\n\t\t\tconsole.log 'item type',name,typ,!!CUSTOM_TYPES[name.toLowerCase!]\n\t\t\t# console.log 'hydrate??',item.constructor\n\t\t\tcontinue if !item.connectedCallback or !item.parentNode or item.hydrated?\n\t\t\tconsole.log 'hydrate',item # !!item.parentNode,item,item.connectedCallback\n\t\t\t# item.connectedCallback!\n\n\t\tactive = no\n\nexport def hydrate\n\thydrator.flush!\n\nexport class ImbaElement < HTMLElement\n\tdef constructor\n\t\tsuper()\n\t\tif flags$ns\n\t\t\t# explain?\n\t\t\tflag$ = flagExt$\n\n\t\tsetup$()\n\t\tbuild()\n\n\tdef setup$\n\t\t__slots = {}\n\t\t__F = 0\n\n\tdef #init\n\t\t__F |= ($EL_INITED$ | $EL_HYDRATED$)\n\t\tself\n\t\t\n\tdef flag$ str\n\n\t\tself.className = flags$ext = str\n\t\treturn\n\n\t# returns the named slot - for context\n\tdef slot$ name, ctx\n\t\tif name == '__' and !render\n\t\t\treturn self\n\n\t\t__slots[name] ||= createLiveFragment(0,null,self)\n\n\t# called immediately after construction \n\tdef build\n\t\tself\n\n\t# called before the first mount\n\tdef awaken\n\t\tself\n\t\n\t# called when element is attached to document\n\tdef mount\n\t\tself\n\n\tdef unmount\n\t\tself\n\n\t# called after render\n\tdef rendered\n\t\tself\n\n\t# called before element is stringified on server (SSR)\n\tdef dehydrate\n\t\tself\n\n\t# called before awaken if element was not initially created via imba - on the client\n\tdef hydrate\n\t\t# should only autoschedule if we are not awakening inside a parent context that\n\t\tautoschedule = yes\n\t\tself\n\n\tdef tick\n\t\tcommit()\n\n\t# called when component is (re-)rendered from its parent\n\tdef visit\n\t\tcommit()\n\n\t# Wrapper for rendering. Default implementation\n\tdef commit\n\t\treturn self unless render?\n\t\t__F |= $EL_RENDERING$\n\t\trender && render()\n\t\trendered()\n\t\t__F = (__F | $EL_RENDERED$) & ~$EL_RENDERING$\n\n\tget autoschedule\n\t\t(__F & $EL_SCHEDULE$) != 0\n\t\n\tset autoschedule value\n\t\tvalue ? (__F |= $EL_SCHEDULE$) : (__F &= ~$EL_SCHEDULE$)\n\n\t###\n\tNaming and accepted values will likely change - experimental\n\n\tyes = render on events / imba.commit\n\tno = force manual render\n\tnull / undefined = render via parent\n\t(n)s = render every n s\n\t(n)ms = render every n ms\n\t(n)fps = render n times per second\n\t###\n\tset autorender value\n\t\tlet o = #autorender ||= {}\n\t\to.value = value\n\t\tscheduler.schedule(self,o) if mounted?\n\t\treturn\n\n\tget render?\n\t\treturn true\n\n\tget mounting?\n\t\treturn (__F & $EL_MOUNTING$) != 0\n\n\tget mounted?\n\t\treturn (__F & $EL_MOUNTED$) != 0\n\t\n\tget awakened?\n\t\treturn (__F & $EL_AWAKENED$) != 0\n\t\n\tget rendered?\n\t\treturn (__F & $EL_RENDERED$) != 0\n\n\tget rendering?\n\t\treturn (__F & $EL_RENDERING$) != 0\n\t\n\tget scheduled?\n\t\treturn (__F & $EL_SCHEDULED$) != 0\n\n\tget hydrated?\n\t\treturn (__F & $EL_HYDRATED$) != 0\n\n\tget ssr?\n\t\treturn (__F & $EL_SSR$) != 0\n\n\tdef schedule\n\t\tscheduler.on('commit',self)\n\t\t__F |= $EL_SCHEDULED$\n\t\treturn self\n\n\tdef unschedule\n\t\tscheduler.un('commit',self)\n\t\t__F &= ~$EL_SCHEDULED$\n\t\treturn self\n\n\tdef end$\n\t\tvisit()\n\n\tdef open$\n\t\tif __F & $EL_SSR$\n\t\t\t__F = __F & ~$EL_SSR$\n\t\t\t# remove flag\n\t\t\tclassList.remove('_ssr_')\n\t\t\tif flags$ext and flags$ext.indexOf('_ssr_') == 0\n\t\t\t\tflags$ext = flags$ext.slice(5)\n\t\t\tinnerHTML = ''\n\t\tself\n\n\tdef connectedCallback\n\t\tlet flags = __F\n\t\tlet inited = flags & $EL_INITED$\n\t\tlet awakened = flags & $EL_AWAKENED$\n\n\t\tif !inited and !(flags & $EL_SSR$)\n\t\t\thydrator.queue(self)\n\t\t\treturn\n\n\t\t# return if we are already in the process of mounting - or have mounted\n\t\tif flags & ($EL_MOUNTING$ | $EL_MOUNTED$)\n\t\t\treturn\n\t\t\n\t\t__F |= $EL_MOUNTING$\n\n\t\tunless inited\n\t\t\t#init!\n\n\t\tunless flags & $EL_HYDRATED$\n\t\t\t# clearly seems wrong?\n\t\t\tflags$ext = className\n\t\t\t__F |= $EL_HYDRATED$\n\t\t\tself.hydrate()\n\t\t\tcommit()\n\n\t\tunless awakened\n\t\t\tawaken()\n\t\t\t__F |= $EL_AWAKENED$\n\n\t\tlet res = mount()\n\t\tif res && res.then isa Function\n\t\t\tres.then(scheduler.commit)\n\n\t\tflags = __F = (__F | $EL_MOUNTED$) & ~$EL_MOUNTING$\n\t\t\n\t\tif flags & $EL_SCHEDULE$\n\t\t\tschedule()\n\t\t\n\t\t\n\t\tscheduler.schedule(self,#autorender) if #autorender\n\t\treturn this\n\n\tdef disconnectedCallback\n\t\t__F = __F & (~$EL_MOUNTED$ & ~$EL_MOUNTING$)\n\t\tif __F & $EL_SCHEDULED$\n\t\t\t# trigger potential unschedule listeners\n\t\t\tunschedule()\n\n\t\tunmount()\n\t\tscheduler.unschedule(self,#autorender) if #autorender", "import {Element} from './core'\n\n# imba$imbaPath=global\nconst VALID_CSS_UNITS = {\n\tcm:1\n\tmm:1\n\tQ:1\n\tpc:1\n\tpt:1\n\tpx:1\n\tem:1\n\tex:1\n\tch:1\n\trem:1\n\tvw:1\n\tvh:1\n\tvmin:1\n\tvmax:1\n\ts:1\n\tms:1\n\tfr:1\n\t'%':1\n\t'in':1\n\tturn:1\n\tgrad:1\n\trad:1\n\tdeg:1\n\tHz:1\n\tkHz:1\n}\n\nconst CSS_DEFAULT_UNITS = {\n\tx:'px'\n\ty:'px'\n\tz:'px'\n\trotate:'turn'\n}\n\nconst CSS_STR_PROPS = {\n\tprefix:1\n\tsuffix:1\n\tcontent:1\n}\n\nconst CSS_PX_PROPS = /^([xyz])$/\nconst CSS_DIM_PROPS = /^([tlbr]|size|[whtlbr]|[mps][tlbrxy]?|[rcxy]?[gs])$/\n\nconst resets = '''*,::before,::after {\n\tbox-sizing: border-box;\n\tborder-width: 0;\n\tborder-style: solid;\n\tborder-color: currentColor;\n}'''\n\nclass Styles\n\tentries = {}\n\n\tdef register id, styles\n\t\tlet entry = entries[id]\n\n\t\tif !entry\n\t\t\tentry = entries[id] = {sourceId: id, css: styles}\n\n\t\t\tif !entries.resets\n\t\t\t\tregister('resets',resets)\n\n\t\t\tif $web$\n\t\t\t\tentry.node = document.createElement('style')\n\t\t\t\tentry.node.textContent = entry.css\n\t\t\t\tdocument.head.appendChild(entry.node)\n\n\t\telif entry\n\t\t\t# if it was already registered - we update the content\n\t\t\t# and on the web \u2013 replace the actual styles\n\t\t\tentry.css = styles\n\t\t\tif entry.node\n\t\t\t\tentry.node.textContent = styles\n\t\treturn\n\n\tdef toString\n\t\tObject.values(entries).map(do $1.css).join('\\n\\n')\n\n\tdef toValue value, unit, key\n\t\tif CSS_STR_PROPS[key]\n\t\t\tvalue = String(value)\n\n\t\tlet typ = typeof value\n\t\t\t\n\t\tif typ == 'number'\n\t\t\tif !unit\n\t\t\t\tif CSS_PX_PROPS.test(key)\n\t\t\t\t\tunit = 'px'\n\t\t\t\telif CSS_DIM_PROPS.test(key)\n\t\t\t\t\tunit = 'u'\n\t\t\t\telif key == 'rotate'\n\t\t\t\t\tunit = 'turn'\n\n\t\t\tif unit\n\t\t\t\tif VALID_CSS_UNITS[unit]\n\t\t\t\t\t# what if the unit is already set?\n\t\t\t\t\treturn value + unit\n\t\t\t\telif unit == 'u'\n\t\t\t\t\treturn value * 4 + 'px'\n\t\t\t\telse\n\t\t\t\t\treturn \"calc(var(--u_{unit},1px) * {value})\"\n\t\t\telse\n\t\t\t\tyes\t\n\t\t\t\n\t\telif typ == 'string' and key\n\t\t\tif CSS_STR_PROPS[key] and value[0] != '\"' and value[0] != \"'\"\n\t\t\t\tif value.indexOf('\"') >= 0\n\t\t\t\t\tif value.indexOf(\"'\") == -1\n\t\t\t\t\t\tvalue = \"'\" + value + \"'\"\n\t\t\t\t\telse\n\t\t\t\t\t\tno # do something here\n\t\t\t\telse\n\t\t\t\t\tvalue = '\"' + value + '\"'\n\n\t\telif value and value.toStyleString isa Function\n\t\t\treturn value.toStyleString!\n\t\treturn value\n\t\t\n\tdef parseDimension val\n\t\tif typeof val == 'string'\n\t\t\tlet [m,num,unit] = val.match(/^([-+]?[\\d\\.]+)(%|\\w+)$/)\n\t\t\treturn [parseFloat(num),unit]\n\t\telif typeof val == 'number'\n\t\t\treturn [val]\n\nexport const styles = new Styles\n\nexport def use_styles\n\tyes\n\nextend class Element\n\tdef css$ key, value, mods\n\t\tself.style[key] = value\n\t\t\n\tdef css$var name, value, unit, key\n\t\tlet cssval = styles.toValue(value,unit,key)\n\t\tself.style.setProperty(name,cssval)\n\t\treturn\n\n", "export const renderContext = {\n\tcontext: null\n}", "import {renderContext} from './context'\nimport {scheduler} from '../scheduler'\n\nexport def mount mountable, into\n\tlet parent = into or global.document.body\n\tlet element = mountable\n\tif mountable isa Function\n\t\tlet ctx = {_: parent}\n\t\tlet tick = do\n\t\t\trenderContext.context = ctx\n\t\t\tmountable(ctx)\n\t\t\t# now remove the context?\n\t\telement = tick()\n\t\tscheduler.listen('commit',tick)\n\telse\n\t\t# automatic scheduling of element - even before\n\t\t# element.__schedule = yes\n\t\telement.__F |= $EL_SCHEDULE$\n\n\tparent.appendChild(element)", "import {\n\tElement,\n\tHTMLSelectElement,\n\tHTMLInputElement,\n\tHTMLButtonElement,\n\tHTMLTextAreaElement,\n\tHTMLOptionElement\n} from './core'\n\nimport {commit} from '../scheduler'\n\n# TODO use meta properties for $$value, $$bound etc\n\nexport def use_dom_bind\n\tyes\n\nconst toBind = {\n\tINPUT: yes\n\tSELECT: yes\n\tTEXTAREA: yes\n\tBUTTON: yes\n}\n\nlet isGroup = do(obj)\n\treturn obj isa Array or (obj && obj.has isa Function)\n\nlet bindHas = do(object,value)\n\tif object == value\n\t\treturn true\n\telif object isa Array\n\t\tobject.indexOf(value) >= 0\n\telif object and object.has isa Function\n\t\tobject.has(value)\n\telif object and object.contains isa Function\n\t\tobject.contains(value)\n\telse\n\t\treturn false\n\nlet bindAdd = do(object,value)\n\tif object isa Array\n\t\tobject.push(value)\n\telif object and object.add isa Function\n\t\tobject.add(value)\n\nlet bindRemove = do(object,value)\n\tif object isa Array\n\t\tlet idx = object.indexOf(value)\n\t\tobject.splice(idx,1) if idx >= 0\n\telif object and object.delete isa Function\n\t\tobject.delete(value)\n\ndef createProxyProperty target\n\tdef getter\n\t\ttarget[0] ? target[0][target[1]] : undefined\n\n\tdef setter v\n\t\ttarget[0] ? (target[0][target[1]] = v) : null\n\n\treturn {\n\t\tget: getter\n\t\tset: setter\n\t}\n\n###\nData binding\n###\nextend class Element\n\tdef getRichValue\n\t\tself.value\n\n\tdef setRichValue value\n\t\tself.value = value\n\t\n\tdef bind$ key, value\n\t\tlet o = value or []\n\n\t\tif key == 'data' and !$$bound and toBind[nodeName]\n\t\t\t$$bound = yes\n\t\t\tif change$\n\t\t\t\taddEventListener('change',change$ = change$.bind(this))\n\t\t\tif input$\n\t\t\t\taddEventListener('input',input$ = input$.bind(this),capture: yes)\n\t\t\tif click$\n\t\t\t\taddEventListener('click',click$ = click$.bind(this),capture: yes)\n\t\t\t# this.on$('change',{_change$: true},this) if this.change$\n\t\t\t# this.on$('input',{capture: true,_input$: true},this) if this.input$\n\n\t\tObject.defineProperty(self,key,o isa Array ? createProxyProperty(o) : o)\n\t\treturn o\n\nObject.defineProperty(Element.prototype,'richValue',{\n\tget: do this.getRichValue()\n\tset: do(v) this.setRichValue(v)\n})\n\nextend class HTMLSelectElement\n\n\tdef change$ e\n\t\tlet model = self.data\n\t\tlet prev = $$value\n\t\t$$value = undefined\n\t\tlet values = self.getRichValue()\n\n\t\tif self.multiple\n\t\t\tif prev\n\t\t\t\tfor value in prev when values.indexOf(value) == -1\n\t\t\t\t\tbindRemove(model,value)\n\n\t\t\tfor value in values\n\t\t\t\tif !prev or prev.indexOf(value) == -1\n\t\t\t\t\tbindAdd(model,value)\n\t\telse\n\t\t\tself.data = values[0]\n\t\tcommit!\n\t\tself\n\n\tdef getRichValue\n\t\tif $$value\n\t\t\treturn $$value\n\n\t\t$$value = for o in self.selectedOptions\n\t\t\to.richValue\n\n\tdef syncValue\n\t\tlet model = self.data\n\n\t\tif self.multiple\n\t\t\tlet vals = []\n\t\t\tfor option,i in self.options\n\t\t\t\tlet val = option.richValue\n\t\t\t\tlet sel = bindHas(model,val)\n\t\t\t\toption.selected = sel\n\t\t\t\tvals.push(val) if sel\n\t\t\t$$value = vals\n\n\t\telse\n\t\t\tfor option,i in self.options\n\t\t\t\tlet val = option.richValue\n\t\t\t\tif val == model\n\t\t\t\t\t$$value = [val]\n\t\t\t\t\tbreak self.selectedIndex = i\n\t\treturn\n\n\tdef end$\n\t\tself.syncValue()\n\nextend class HTMLOptionElement\n\tdef setRichValue value\n\t\t$$value = value\n\t\tself.value = value\n\n\tdef getRichValue\n\t\tif $$value !== undefined\n\t\t\treturn $$value\n\t\treturn self.value\n\nextend class HTMLTextAreaElement\n\tdef setRichValue value\n\t\t$$value = value\n\t\tself.value = value\n\n\tdef getRichValue\n\t\tif $$value !== undefined\n\t\t\treturn $$value\n\t\treturn self.value\n\n\tdef input$ e\n\t\tself.data = self.value\n\t\tcommit!\n\n\tdef end$\n\t\tif $$bound and self.value != self.data\n\t\t\tself.value = self.data\n\n\nextend class HTMLInputElement\n\t\n\tdef input$ e\n\t\tlet typ = self.type\n\n\t\tif typ == 'checkbox' or typ == 'radio'\n\t\t\treturn\n\n\t\t$$value = undefined\n\t\tself.data = self.richValue\n\t\tcommit!\n\n\tdef change$ e\n\t\tlet model = self.data\n\t\tlet val = self.richValue\n\n\t\tif self.type == 'checkbox' or self.type == 'radio'\n\t\t\tlet checked = self.checked\n\t\t\tif isGroup(model)\n\t\t\t\tchecked ? bindAdd(model,val) : bindRemove(model,val)\n\t\t\telse\n\t\t\t\tself.data = checked ? val : false\n\t\tcommit!\n\n\tdef setRichValue value\n\t\tif $$value !== value\n\t\t\t$$value = value\n\n\t\t\tif self.value !== value\n\t\t\t\tself.value = value\n\t\treturn\n\n\tdef getRichValue\n\t\tif $$value !== undefined\n\t\t\treturn $$value\n\n\t\tlet value = self.value\n\t\tlet typ = self.type\n\n\t\tif typ == 'range' or typ == 'number'\n\t\t\tvalue = self.valueAsNumber\n\t\t\tvalue = null if Number.isNaN(value)\n\t\telif typ == 'checkbox'\n\t\t\tvalue = true if value == undefined or value === 'on'\n\n\t\treturn value\n\n\tdef end$\n\t\tif $$bound\n\t\t\tlet typ = self.type\n\t\t\tif typ == 'checkbox' or typ == 'radio'\n\t\t\t\tlet val = self.data\n\t\t\t\tif val === true or val === false or val == null\n\t\t\t\t\tself.checked = !!val\n\t\t\t\telse\n\t\t\t\t\tself.checked = bindHas(val,self.richValue)\n\t\t\telse\n\t\t\t\tself.richValue = self.data\n\t\treturn\n\t\t\nextend class HTMLButtonElement\n\n\tget checked\n\t\t$checked\n\t\t\n\tset checked val\n\t\tif val != $checked\n\t\t\t$checked = val\n\t\t\tflags.toggle('checked',!!val)\n\t\n\tdef setRichValue value\n\t\t$$value = value\n\t\tself.value = value\n\n\tdef getRichValue\n\t\tif $$value !== undefined\n\t\t\treturn $$value\n\t\treturn self.value\n\t\t\n\tdef click$ e\n\t\tlet data = self.data\n\t\tlet toggled = self.checked\n\t\tlet val = self.richValue\n\t\t# if self.type == 'checkbox' or self.type == 'radio'\n\t\tif isGroup(data)\n\t\t\ttoggled ? bindRemove(data,val) : bindAdd(data,val)\n\t\telse\n\t\t\tself.data = toggled ? null : val\n\t\tend$!\n\t\tcommit!\n\n\tdef end$\n\t\tif $$bound\n\t\t\tlet val = self.data\n\t\t\tif val === true or val === false or val == null\n\t\t\t\tself.checked = !!val\n\t\t\telse\n\t\t\t\tself.checked = bindHas(val,self.richValue)\n\t\treturn", "# imba$imbaPath=global\nimport {Event,Element} from '../dom/core'\nimport {listen,once,emit,unlisten,parseTime} from '../utils'\nimport {scheduler} from '../scheduler'\n\nconst keyCodes = {\n\tesc: [27],\n\ttab: [9],\n\tenter: [13],\n\tspace: [32],\n\tup: [38],\n\tdown: [40],\n\tleft: [37],\n\tright: [39],\n\tdel: [8,46]\n}\n\nexport const events = {}\n\nexport def use_events\n\tyes\n\ndef Event.log$mod ...params\n\tconsole.log(...params)\n\treturn true\n\n# Skip unless matching selector\ndef Event.sel$mod expr\n\treturn !!event.target.matches(String(expr))\n\t\ndef Event.if$mod expr\n\treturn !!expr\n\t\ndef Event.wait$mod time = 250\n\tnew Promise(do setTimeout($1,parseTime(time)))\n\ndef Event.self$mod\n\treturn event.target == element\n\t\ndef Event.throttle$mod time = 250\n\treturn false if handler.throttled\n\thandler.throttled = yes\n\n\telement.flags.incr('throttled')\n\n\tonce(current,'end') do\n\t\tsetTimeout(&,parseTime(time)) do\n\t\t\telement.flags.decr('throttled')\n\t\t\thandler.throttled = no\n\treturn true\n\ndef Event.debounce$mod time = 250\n\tlet queue = state.debounced ||= []\n\tqueue.push(queue.last = event)\n\tnew Promise do(resolve)\n\t\tsetTimeout(&,parseTime(time)) do\n\t\t\tif queue.last == event\n\t\t\t\t# if this event is still the last\n\t\t\t\t# add the debounced queue to the event\n\t\t\t\t# and let the chain continue\n\t\t\t\tevent.debounced = queue\n\t\t\t\thandler.state = {}\n\t\t\t\tresolve(true)\n\t\t\telse\n\t\t\t\tresolve(false)\n\t\ndef Event.flag$mod name,sel\n\t# console.warn 'event flag',self,arguments,id,step\n\tlet el = sel isa Element ? sel : (sel ? element.closest(sel) : element)\n\treturn true unless el\n\tlet step = step\n\tstate[step] = id\n\n\tel.flags.incr(name)\n\n\tlet ts = Date.now!\n\t\n\tonce(current,'end') do\n\t\tlet elapsed = Date.now! - ts\n\t\tlet delay = Math.max(250 - elapsed,0)\n\t\tsetTimeout(&,delay) do el.flags.decr(name)\n\treturn true\n\t\ndef Event.busy$mod sel\n\treturn Event.flag$mod.call(this,'busy',250,sel)\n\ndef Event.mod$mod name\n\t# FIXME\n\treturn Event.flag$mod.call(this,\"mod-{name}\",global.document.documentElement)\n\n# could cache similar event handlers with the same parts\nexport class EventHandler\n\tdef constructor params,closure\n\t\tself.params = params\n\t\tself.closure = closure\n\n\tdef getHandlerForMethod el, name\n\t\treturn null unless el\n\t\tel[name] ? el : self.getHandlerForMethod(el.parentNode,name)\n\n\t# okay to auto-import these?\n\tdef emit name, ...params do emit(self,name,params)\n\tdef on name, ...params do listen(self,name,...params)\n\tdef once name, ...params do once(self,name,...params)\n\tdef un name, ...params do unlisten(self,name,...params)\n\n\tdef handleEvent event\n\t\tlet target = event.target\n\t\tlet element = event.currentTarget\n\t\tlet mods = self.params\n\t\tlet i = 0\n\t\tlet awaited = no\n\t\tlet prevRes = undefined\n\t\t\n\t\tself.count ||= 0\n\t\tself.state ||= {}\n\n\t\tlet state = {\n\t\t\telement: element\n\t\t\tevent: event\n\t\t\tmodifiers: mods\n\t\t\thandler: this\n\t\t\tid: ++self.count\n\t\t\tstep: -1\n\t\t\tstate: self.state\n\t\t\tcommit: null\n\t\t\tcurrent: null\n\t\t}\n\t\t\n\t\tstate.current = state\n\n\t\tif event.handle$mod\n\t\t\tif event.handle$mod.apply(state,mods.options or []) == false\n\t\t\t\treturn\n\n\t\tlet guard = Event[self.type + '$handle'] or Event[event.type + '$handle'] or event.handle$mod\n\t\t\t\n\t\tif guard and guard.apply(state,mods.options or []) == false\n\t\t\treturn\n\t\t\n\t\t# let object = state.proxy or event \n\t\t\n\t\tself.currentEvents ||= new Set\n\t\tself.currentEvents.add(event)\t\n\n\t\tfor own handler,val of mods\n\t\t\tstate.step++\n\n\t\t\tif handler[0] == '_'\n\t\t\t\tcontinue\n\n\t\t\tif handler.indexOf('~') > 0\n\t\t\t\thandler = handler.split('~')[0]\n\t\t\t\n\t\t\tlet modargs = null\n\t\t\tlet ismod = no\n\t\t\tlet args = [event,state]\n\t\t\tlet res = undefined\n\t\t\tlet context = null\n\t\t\tlet m\n\t\t\tlet isstring = typeof handler == 'string'\n\t\t\t\n\t\t\tif handler[0] == '$' and handler[1] == '_' and val[0] isa Function\n\t\t\t\thandler = val[0]\n\t\t\t\targs = [event,state].concat(val.slice(1))\n\t\t\t\tcontext = element\n\n\t\t\t# parse the arguments\n\t\t\telif val isa Array\n\t\t\t\targs = val.slice()\n\t\t\t\tmodargs = args\n\n\t\t\t\tfor par,i in args\n\t\t\t\t\t# what about fully nested arrays and objects?\n\t\t\t\t\t# ought to redirect this\n\t\t\t\t\tif typeof par == 'string' && par[0] == '~' and par[1] == '$'\n\t\t\t\t\t\tlet name = par.slice(2)\n\t\t\t\t\t\tlet chain = name.split('.')\n\t\t\t\t\t\tlet value = state[chain.shift()] or event\n\n\t\t\t\t\t\tfor part,i in chain\n\t\t\t\t\t\t\tvalue = value ? value[part] : undefined\n\n\t\t\t\t\t\targs[i] = value\n\n\t\t\tif typeof handler == 'string' and m = handler.match(/^(emit|flag|mod|moved|pin|fit|refit|map|remap|css)-(.+)$/)\n\t\t\t\tmodargs = args = [] unless modargs\n\t\t\t\targs.unshift(m[2])\n\t\t\t\thandler = m[1]\n\t\t\t\n\t\t\t# console.log \"handle part\",i,handler,event.currentTarget\n\t\t\t# check if it is an array?\n\t\t\tif handler == 'stop'\n\t\t\t\tevent.stopImmediatePropagation()\n\t\t\telif handler == 'prevent'\n\t\t\t\tevent.preventDefault()\n\t\t\telif handler == 'commit'\n\t\t\t\tstate.commit = yes\n\t\t\telif handler == 'silence' or handler == 'silent'\n\t\t\t\tstate.commit = no\n\t\t\telif handler == 'ctrl'\n\t\t\t\tbreak unless event.ctrlKey\n\t\t\telif handler == 'alt'\n\t\t\t\tbreak unless event.altKey\n\t\t\telif handler == 'shift'\n\t\t\t\tbreak unless event.shiftKey\n\t\t\telif handler == 'meta'\n\t\t\t\tbreak unless event.metaKey\n\t\t\telif handler == 'once'\n\t\t\t\t# clean up bound data as well\n\t\t\t\telement.removeEventListener(event.type,self)\n\t\t\telif handler == 'options'\n\t\t\t\tcontinue\n\n\t\t\telif keyCodes[handler]\n\t\t\t\tunless keyCodes[handler].indexOf(event.keyCode) >= 0\n\t\t\t\t\tbreak\n\n\t\t\telif handler == 'emit'\n\t\t\t\tlet name = args[0]\n\t\t\t\tlet detail = args[1] # is custom event if not?\n\t\t\t\tlet e = new CustomEvent(name, bubbles: true, detail: detail) # : new Event(name)\n\t\t\t\te.originalEvent = event\n\t\t\t\tlet customRes = element.dispatchEvent(e)\n\n\t\t\telif typeof handler == 'string'\n\t\t\t\tlet fn = (self.type and Event[self.type + '$' + handler + '$mod'])\n\t\t\t\tfn ||= event[handler + '$mod'] or Event[event.type + '$' + handler] or Event[handler + '$mod']\n\t\t\t\t\n\t\t\t\tif fn isa Function\n\t\t\t\t\thandler = fn\n\t\t\t\t\tcontext = state\n\t\t\t\t\targs = modargs or []\n\t\t\t\t\tismod = yes\n\n\t\t\t\t# should default to first look at closure - no?\n\t\t\t\telif handler[0] == '_'\n\t\t\t\t\thandler = handler.slice(1)\n\t\t\t\t\tcontext = self.closure\n\t\t\t\telse\n\t\t\t\t\tcontext = self.getHandlerForMethod(element,handler)\n\n\t\t\tif handler isa Function\n\t\t\t\tres = handler.apply(context or element,args)\n\t\t\telif context\n\t\t\t\tres = context[handler].apply(context,args)\n\n\t\t\tif state.commit === null and !ismod\n\t\t\t\tstate.commit = yes\n\n\t\t\tif res and res.then isa Function and res != scheduler.$promise\n\t\t\t\tscheduler.commit! if state.commit\n\t\t\t\tawaited = yes\n\t\t\t\t# TODO what if await fails?\n\t\t\t\tres = await res\n\n\t\t\tif res === false\n\t\t\t\tbreak\n\n\t\t\tstate.value = res\n\t\t\n\t\temit(state,'end',state)\n\n\t\tscheduler.commit! if state.commit\n\n\t\tself.currentEvents.delete(event)\n\t\tif self.currentEvents.size == 0\n\t\t\tself.emit('idle')\n\t\t# what if the result is a promise\n\t\treturn\n\n\n# Add methods to Element\nextend class Element\n\n\tdef emit name, detail, o = {bubbles: true}\n\t\to.detail = detail if detail != undefined\n\t\tlet event = new CustomEvent(name, o)\n\t\tlet res = self.dispatchEvent(event)\n\t\treturn event\n\n\tdef on$ type, mods, scope\n\t\tlet check = 'on$' + type\n\t\tlet handler\n\n\t\t# check if a custom handler exists for this type?\n\t\tif self[check] isa Function\n\t\t\thandler = self[check](mods,scope)\n\n\t\thandler = new EventHandler(mods,scope)\n\t\tlet capture = mods.capture\n\t\tlet passive = mods.passive\n\n\t\tlet o = capture\n\n\t\tif passive\n\t\t\to = {passive: passive, capture: capture}\n\t\t\n\t\tif (/^(pointerdrag|touch)$/).test(type)\n\t\t\thandler.type = type\n\t\t\ttype = 'pointerdown'\n\t\t\t\n\t\tself.addEventListener(type,handler,o)\n\t\treturn handler\n", "import {asset} from 'imba';\nimport url from './logo.svg';\nexport default asset({\n\turl: url,\n\ttype: 'svg',\n\tmeta: {\"attributes\":{\"width\":\"100%\",\"height\":\"100%\",\"viewBox\":\"0 0 1164 400\",\"version\":\"1.1\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xml:space\":\"preserve\",\"xmlns:serif\":\"http://www.serif.com/\",\"style\":\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\"},\"flags\":[],\"content\":\"<rect id=\\\"Imba.io\\\" x=\\\"0.658\\\" y=\\\"0\\\" width=\\\"1163\\\" height=\\\"400\\\" style=\\\"fill:none;\\\"/><g><g><g><path d=\\\"M410.808,338.269c-3.618,0 -6.551,-2.932 -6.551,-6.55c0,-28.694 0,-143.145 0,-171.839c0,-3.618 2.933,-6.55 6.551,-6.55c10.587,-0 31.341,-0 41.928,-0c3.618,-0 6.55,2.932 6.551,6.55c-0,28.694 -0,143.145 -0,171.839c-0.001,3.618 -2.933,6.55 -6.551,6.55c-10.587,0 -31.341,0 -41.928,0Z\\\" style=\\\"fill:#273240;fill-rule:nonzero;\\\"/><ellipse cx=\\\"431.598\\\" cy=\\\"87.156\\\" rx=\\\"32.391\\\" ry=\\\"31.346\\\" style=\\\"fill:#273240;\\\"/></g><path d=\\\"M696.469,147.409c14.628,-0 26.353,4.934 35.177,14.802c8.823,9.868 13.234,23.509 13.234,40.923c0,0.059 0,101.55 0,128.585c0,1.737 -0.69,3.403 -1.918,4.632c-1.229,1.228 -2.895,1.918 -4.632,1.918c-10.587,0 -31.341,0 -41.928,0c-1.738,0 -3.404,-0.69 -4.632,-1.918c-1.229,-1.229 -1.919,-2.895 -1.919,-4.632c0,-25.817 0,-119.126 0,-119.181c0,-16.485 -5.224,-24.728 -15.672,-24.728c-5.805,0 -10.913,1.974 -15.325,5.921c-2.287,2.046 -4.543,4.654 -6.768,7.824c-3.831,5.193 -5.898,11.476 -5.898,17.929c-0.221,22.92 -0.221,90.816 -0.221,112.235c0,1.737 -0.69,3.403 -1.918,4.632c-1.229,1.228 -2.895,1.918 -4.632,1.918c-10.587,0 -31.341,0 -41.928,0c-1.738,0 -3.404,-0.69 -4.632,-1.918c-1.229,-1.229 -1.919,-2.895 -1.919,-4.632c0,-25.817 0,-119.126 0,-119.181c0,-16.485 -5.224,-24.728 -15.672,-24.728c-5.573,0 -10.623,2.032 -15.151,6.095c-2.67,2.396 -5.279,5.458 -7.828,9.187c-3.292,4.656 -5.06,10.219 -5.06,15.921c-0.173,22.446 -0.173,91.138 -0.173,112.706c0,1.737 -0.69,3.403 -1.918,4.632c-1.229,1.228 -2.895,1.918 -4.632,1.918c-10.587,0 -31.341,0 -41.928,0c-3.618,0 -6.551,-2.932 -6.551,-6.55c0,-28.694 0,-143.145 0,-171.839c0,-3.618 2.933,-6.55 6.551,-6.55c9.547,-0 27.113,-0 36.022,-0c3.176,-0 5.895,2.278 6.45,5.406c0.448,2.526 0.99,5.582 1.482,8.355c0.25,1.4 1.273,2.537 2.638,2.934c1.366,0.397 2.839,-0.016 3.8,-1.064c5.811,-6.348 12.085,-11.264 18.809,-14.761c8.708,-4.527 18.634,-6.791 29.779,-6.791c10.216,-0 19.097,2.554 26.644,7.662c4.629,3.134 9.936,10.55 13.347,15.815c0.911,1.316 2.356,2.163 3.95,2.314c1.594,0.151 3.173,-0.41 4.315,-1.532c5.347,-5.413 14.008,-13.767 19.834,-16.945c8.939,-4.876 19.213,-7.314 30.823,-7.314Z\\\" style=\\\"fill:#273240;fill-rule:nonzero;\\\"/><path d=\\\"M879.667,147.409c22.522,-0 39.762,8.591 51.72,25.773c11.958,17.182 17.937,41.446 17.937,72.792c-0,19.039 -2.961,35.989 -8.881,50.849c-5.921,14.86 -14.396,26.47 -25.425,34.829c-11.029,8.359 -24.09,12.538 -39.182,12.538c-10.217,0 -19.446,-2.032 -27.689,-6.095c-4.643,-2.289 -8.863,-5.149 -12.659,-8.58c-1.633,-1.48 -3.946,-1.945 -6.024,-1.211c-2.078,0.734 -3.587,2.549 -3.928,4.726c-0.075,-0.008 -0.076,-0.004 -0.076,-0c-0.474,3.016 -3.072,5.239 -6.126,5.239c-8.978,0 -27.147,0 -36.906,0c-3.617,0 -6.55,-2.932 -6.55,-6.55c-0,-36.215 -0,-211.541 -0,-245.994c-0,-3.346 2.522,-6.155 5.849,-6.513c10.128,-1.09 30.901,-3.325 41.929,-4.511c1.848,-0.199 3.694,0.397 5.078,1.639c1.383,1.243 2.173,3.014 2.173,4.874c-0,16.827 -0,58.495 -0,79.057c0.001,1.814 1.077,3.454 2.741,4.177c1.663,0.723 3.597,0.39 4.923,-0.847c3.916,-3.649 8.454,-6.77 13.581,-9.401c8.824,-4.527 17.995,-6.791 27.515,-6.791Zm-19.504,156.728c21.361,0 32.042,-19.388 32.042,-58.163c0,-21.826 -2.554,-36.977 -7.662,-45.452c-5.108,-8.475 -12.422,-12.712 -21.942,-12.712c-7.693,0 -14.643,2.71 -20.849,8.128c-6.84,6.025 -10.759,14.699 -10.759,23.814c-0.086,14.5 -0.086,40.738 -0.086,55.477c0.002,15.709 12.536,28.549 28.241,28.928c0.337,-0.024 0.675,-0.02 1.015,-0.02Z\\\" style=\\\"fill:#273240;fill-rule:nonzero;\\\"/><path d=\\\"M1120.33,284.633c-0,6.966 0.987,12.074 2.96,15.325c1.242,2.045 2.966,3.768 5.172,5.17c2.416,1.577 3.481,4.575 2.6,7.323c-0.726,2.723 -1.834,6.183 -2.995,9.808c-2.184,6.819 -7.312,12.298 -13.971,14.929c-6.659,2.631 -14.147,2.136 -20.402,-1.349c-0.002,-0.004 -0.005,-0.006 -0.008,-0.008c-7.082,-3.947 -12.712,-10.332 -16.892,-19.155c-12.074,18.343 -30.649,27.514 -55.725,27.514c-18.343,0 -32.971,-5.34 -43.884,-16.021c-10.913,-10.681 -16.37,-24.612 -16.37,-41.794c0,-20.201 7.43,-35.641 22.291,-46.322c14.86,-10.681 36.337,-16.021 64.432,-16.021c0.018,-0 6.51,-0 11.861,-0c1.843,-0 3.609,-0.732 4.912,-2.035c1.303,-1.303 2.035,-3.069 2.035,-4.912c-0,-0.642 -0,-1.06 -0,-1.064c-0,-10.913 -2.322,-18.401 -6.966,-22.464c-4.644,-4.064 -12.77,-6.095 -24.38,-6.095c-6.037,-0 -13.351,0.87 -21.942,2.612c-6.675,1.353 -13.491,3.092 -20.447,5.216c-3.371,1.036 -6.957,-0.784 -8.11,-4.117c-2.316,-6.679 -6.021,-17.383 -8.341,-24.086c-1.182,-3.411 0.619,-7.135 4.026,-8.327c9.659,-3.329 19.512,-5.954 29.563,-7.868c12.19,-2.322 23.51,-3.483 33.958,-3.483c26.47,-0 45.858,5.456 58.164,16.369c12.306,10.913 18.459,27.283 18.459,49.108c-0,0.049 -0,71.699 -0,71.747Zm-83.24,20.201c6.037,-0 11.551,-1.509 16.543,-4.528c0.001,0 0.001,-0 0.001,-0c7.89,-4.771 12.712,-13.32 12.712,-22.54c-0,-5.097 -0,-11.256 -0,-15.98c-0,-4.117 -3.337,-7.453 -7.453,-7.453c-3.157,-0 -6.12,-0 -6.13,-0c-12.539,-0 -21.884,2.205 -28.037,6.617c-6.153,4.412 -9.23,11.261 -9.23,20.549c0,7.43 1.916,13.177 5.747,17.24c3.831,4.063 9.113,6.095 15.847,6.095Z\\\" style=\\\"fill:#273240;fill-rule:nonzero;\\\"/></g><path d=\\\"M360.039,167.628c-36.205,-68.287 -359.443,-138.06 -324.448,-92.928c34.995,45.132 190.036,107.062 199.223,108.212c-47.568,14.937 -174.53,41.73 -147.353,64.299c27.177,22.569 156.265,-2.637 156.052,-2.236c-35.746,26.937 -80.254,108.258 -35.536,90.883c70.555,-27.413 173.158,-128.44 152.062,-168.23Z\\\" style=\\\"fill:#16cec7;\\\"/></g>\"},\n\ttoString: function(){ return this.url;}\n})", "import './assets/reset.css'\n# import {PaperScope} from 'paper'\n# import * as tf from '@tensorflow/tfjs'\n# import katex from 'katex'\n# import renderMathInElement from \"https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.mjs\"\n\n# import {exercises, answers} from './tran-khai-nguyen-hcm.json'\nimport {id, title, exercises, answers} from './thu-tn-chuyen-ha-long-2021.json'\n\n\n\nglobal css @root\n\tff: sans\n\nglobal css .item p:4 flex:1 radius:3 m:4\nglobal css button\n\toutline:0\n\tm:1 p:2 4 radius:3 fw:500 cursor:pointer\n\tc:gray8 bw:1 bc:black/2 shadow:sm\n\ttransition: 100ms cubic-out\n\tborder-radius:10px\n\t@active y:-5px shadow:md\n\t&.primary bg:blue5 @hover:blue6 c:blue1 @hover:white\n\t&.teal bg:teal3 @hover:teal4 c:teal8 @hover:teal9\n\t&.blue bg:blue3 @hover:blue4 c:blue8 @hover:blue9\n\t&.green bg:green3 @hover:green4 c:green8 @hover:green9\n\t&.danger bg:red5 @hover:red6 c:red1 @hover:white\n\t&.red bg:red3 @hover:red4 color:red9\n\ndef getRandomColor\n\t\tlet letters = '0123456789ABCDEF'\n\t\tlet color = '#'\n\t\tfor i in [0...6]\n\t\t\tcolor += letters[Math.floor(Math.random() * 16)]\n\t\treturn color\n\ndef renderTex el\n\trenderMathInElement(el, {\n\t\tdelimiters: [\n\t\t\t{left: \"$$\", right: \"$$\", display: true},\n\t\t\t{left: \"$\", right: \"$\", display: false}\n\t\t],\n\t\toutput: 'html'\n\t})\n\n\ntag Main\n\t<self>\n\t\t# <App>\n\t\t<Exercise>\n\t\t# <Digit>\n\t\t# <Temp>\n\t\t# <Snake>\n\n\ntag App\n\tcss .done\n\t\ttd: line-through\n\n\ttodos = []\n\tnewTitle = \"\"\n\n\tdef addTodo\n\t\tif newTitle.trim! != \"\"\n\t\t\ttodos.push {title: newTitle}\n\t\tnewTitle = \"\"\n\t\t\n\tdef toggleTodo todo\n\t\ttodo.done = !todo.done\n\n\n\t<self [d:block m:3]>\n\t\t<header [d:hflex jc:center]>\n\t\t\t<svg [width:200px] src='./assets/logo.svg'>\n\t\t<h1 [ai:center ta:center fs:30px fw:bold c:indigo4 p:3]> \"Header\"\n\n\n\t\t<main [bd:1px solid blue rd:6px p:10px]>\n\t\t\t<form.header [ta:center] @submit.prevent.addTodo>\n\t\t\t\t<input [rd:5 p:2 bw:1px bxs:sm] bind=newTitle placeholder=\"Add...\">\n\t\t\t\t<button [bg:blue5 c:blue1 @hover:white] type='submit'> 'Add item'\n\n\t\t\t<div [w:50% pt:0.5rem m:auto]> for todo in todos\n\t\t\t\t<div [p:5px] .done=(todo.done) @click.toggleTodo(todo)> todo.title\n\ntag Digit\n\tcss .shadow bxs:0 4px 8px 0 gray4\n\n\tp = new PaperScope!\n\tclicked = no\n\tmodel\n\tpredicted_number\n\tprob\n\n\tdef mount\n\t\tp.setup($paperCanvas)\n\t\tlet tool = new p.Tool!\n\n\t\ttool.onMouseDown = do |e|\n\t\t\tclicked = yes\n\t\t\tpath = new p.Path!\n\t\t\tpath.strokeColor = 'white'\n\t\t\tpath.strokeWidth = 25\n\t\t\tpath.strokeCap = 'round'\n\t\t\tpath.strokeJoin = 'round'\n\t\t\tpath.sendToBack!\n\t\t\t$predict.disabled = false\n\n\t\ttool.onMouseDrag = do |e|\n\t\t\tpath.add(e.point)\n\n\t\ttool.onMouseUp = do\n\t\t\tpath.smooth!\n\t\t\tpath.simplify(10)\n\n\t\tmodel = await tf.loadLayersModel(\"./models/model.json\")\n\n\tdef preprocessCanvas image\n\t\ttensor = tf.browser.fromPixels(image)\n\t\t.resizeNearestNeighbor([28, 28])\n\t\t.mean(2)\n\t\t.expandDims(2)\n\t\t.expandDims()\n\t\t.toFloat()\n\t\treturn tensor.div(255.0)\n\t\t\n\tdef getResult canvas\n\t\ttensor = preprocessCanvas(canvas)\n\t\tpredictions = await model.predict(tensor)\n\t\tpredicted_number = predictions.argMax(1).dataSync()[0]\n\t\tprob = predictions.arraySync()[0][predicted_number]\n\n\t\t$output.innerHTML = ''\n\t\tif 0.85 < prob < 0.95\n\t\t\t$output.style['color'] = 'green'\n\t\t\twrite \"Hmm this looks like number {predicted_number}.\", $output\n\t\telif prob >= 0.95\n\t\t\t$output.style['color'] = 'green'\n\t\t\twrite \"I'm quite sure that it's number {predicted_number}!\", $output\n\t\telse\n\t\t\t$output.style['color'] = 'purple'\n\t\t\twrite \"Your handwriting's unpredictable! Try again please...\", $output\n\n\tdef sleep ms\n\t\treturn new Promise do |res| setTimeout(res, ms)\n\n\tdef write text, output\n\t\tfor char in text\n\t\t\tif char == '!'\n\t\t\t\toutput.innerHTML += char\n\t\t\t\toutput.innerHTML += \"<br>\"\n\t\t\telse\n\t\t\t\toutput.innerHTML += char\n\t\t\tawait sleep(10)\n\n\t<self ><div[ta:center]>\n\t\t<canvas$paperCanvas .shadow width=300 height=300 [bg:red3 border-radius:20px m:2]>\n\t\t\n\t\t<br>\n\t\t<button$clear.danger [fs:11] @click=(\n\t\t\tp.project.clear!\n\t\t\t$predict.disabled = false\n\t\t)> \"Clear\"\n\t\t<button$predict.primary [fs:11] @click=(\n\t\t\tif clicked\n\t\t\t\tgetResult $paperCanvas\n\t\t\telse\n\t\t\t\t$output.innerHTML = \"Please draw a number first!\"\n\t\t\t$predict.disabled = true\n\t\t)> \"Predict\"\n\t\t<p$output [fs:11 c:teal4]> \"Write a number.\"\n\ntag Snake\n\tcss canvas bg:white bd:1px solid blue4\n\tprop p = new PaperScope!\n\n\tdef mount\n\t\tp.setup($cv_snake)\n\t\tlet tool = new p.Tool!\n\n\t\tlet points = 25\n\t\tlet length = 35\t\n\n\t\tlet path = new p.Path\n\t\t\tstrokeColor: 'blue'\n\t\t\tstrokeWidth: 20\n\t\t\tstrokeCap: 'round'\n\n\t\tlet start = p.view.center.divide [10, 1]\n\t\tfor i in [0...points]\n\t\t\tpath.add(start.add(new p.Point(i*length, 0)))\n\n\t\ttool.onMouseMove = def onMouseMove e\n\t\t\tif e.event.target == $cv_snake\n\t\t\t\tpath.firstSegment.point = e.point\n\t\t\t\tfor i in [0...(points - 1)]\n\t\t\t\t\tlet segment         = path.segments[i]\n\t\t\t\t\tlet nextSegment     = segment.next\n\t\t\t\t\tlet vector          = segment.point.subtract(nextSegment.point)\n\t\t\t\t\tvector.length       = length\n\t\t\t\t\tnextSegment.point   = segment.point.subtract(vector)\n\t\t\t\tpath.smooth\n\t\t\t\t\ttype: 'continuous'\n\n\t\ttool.onMouseDown = def onmousedown\n\t\t\tpath.fullySelected = true\n\t\t\t# path.strokeColor = '#e08285'\n\t\t\tpath.strokeColor = getRandomColor!\n\n\t\ttool.onMouseUp = def onmouseup\n\t\t\tpath.fullySelected = false\n\t\t\tpath.strokeColor = 'blue'\n\n\t<self> <div [p:1rem ta:center]>\n\t\t<canvas$cv_snake.canvas [rd:20px] width=800 height=500>\n\n\nglobal css @root\n\t--grid-2cols: auto-flow / 1fr\n\t--grid-2cols@xs: auto-flow / 1fr\n\t--grid-2cols@sm: auto-flow / 1fr 1fr\n\t--grid-2cols@md: auto-flow / 1fr 1fr\n\tff:Niramit\n\ntag Temp\n\tcss button \n\t\tp:2 flex:1 rd:5 m:4\n\t\t@hover y:-5px shadow:md\n\tcss .blue bg:blue2 @hover:blue3 c:blue8\n\tcss .teal bg:teal2 @hover:teal3 c:teal8\n\tcss .yellow bg:yellow2 @hover:yellow3 c:yellow8\n\tcss .red bg:red2 @hover:red3 c:red8 \n\tcss input rd:4 p:2 bd:0 bxs:md\n\n\tdata = {\n\t\t\"S = 1/2 a h\": ['triangle', 'area'],\n\t\t\"\\\\sin 2x = 2 \\\\sinx \\\\cosx\": ['sin2x', 'sin(2x)']\n\t}\n\n\tvalue = ''\n\n\tdef output text\n\t\t$out.innerHTML = text\n\n\tdef search keyword\n\t\tfor own key, val of data\n\t\t\tif keyword in val\n\t\t\t\t$out.innerHTML = key\n\n\t<self>\n\t\t<form [bg:red2 ta:center] @submit.prevent.search(value)>\n\t\t\t<input bind=value placeholder='Search for...' >\n\t\t\t<button.teal [bxs:md] type='submit'> \"Search\"\n\t\t<div$out [m:auto w:40% ta:center p:0.5rem bg:blue3 fs:10]>\n\n\t\t<div [w:80% m:auto bg:red2] [d:grid g:5px ta:center jc:flex-end]>\n\t\t\tcss a px:2 py:1\n\t\t\tcss button m:0 rd:3 fs:8 py:1 bg:green3\n\t\t\t<button href='#' [gr:1]> \"Home\"\n\t\t\t<button href='#' [gr:1]> \"About\"\n\t\t\t<button href='#' [gr:1]> \"User\"\n\t\t\n\t\t<div [bg:red1 p:3 jc:center] [d:grid gtc:40% 40% g:10px]>\n\t\t\t<div [bg:blue3 ta:center fs:10]> \"test 1\"\n\t\t\t<div [bg:blue3 ta:center fs:10]> \"test 2\"\n\t\t\t<div [bg:blue3 ta:center fs:10 gc:1 / -1]> \"test 3\"\n\n\t\t<div [ta:center d:grid g:10px]>\n\t\t\t<Card img='/totoro1.jpg'>\n\t\t\t<Card img='/totoro2.jpg'>\n\t\t\t<Card img='/totoro3.jpg'>\n\n\t\t<div [d:grid grid:2cols w:80% @xl:60% g:2px] \n\t\t\t[jc:center m:auto]> for i in [1 .. 10]\n\t\t\t<button [fs:12 bg:red4 m:1 c:gray2]> \"Item {i}\"\n\n\t\tcss button.last gc:1 / -1 @lg:2 / -1\n\n\t\t<div [d:grid w:80% @xl:60% g:2px] \n\t\t\t[grid:auto-flow / 1fr @sm:auto-flow / repeat(3, 1fr) @lg:auto-flow / repeat(4, 1fr)]\n\t\t\t[jc:center m:auto]> for i in [1 .. 10]\n\t\t\tif i==10\n\t\t\t\t<button.last [fs:12 bg:green4 m:1 c:gray2]> \"Item {i}\"\n\t\t\telse\n\t\t\t\t<button [fs:12 bg:green4 m:1 c:gray2]> \"Item {i}\"\n\n\t\t \ntag Card\n\timg = ''\n\twidth = 350px\n\tradius = 15px\n\n\tcss img \n\t\tbxs:md\n\t\t@hover y:-4px x:4px bxs:lg\n\t\n\n\t<self>\n\t\tcss img rd:{radius} w:{width}\n\t\t<div >\n\t\t\t<img src=img>\n\t\t\n\nclass Question\n\tA = ''\n\tB = ''\n\tC = ''\n\tD = ''\n\tcurrent = ''\n\tpending = no\n\tround = 0\n\tcorrect = no\t\n\ntag Exercise\n\tcss p fs:10 rd:10px px:2 my:3px\n\tcss img max-width:90% max-height:auto\n\tcss .answered bg:red4 \n\tcss .pending bg:blue2 bxs:sm\n\tcss .choice fs:8 py:1 us:none cursor:pointer\n\n\tcss .correct bg:green3 bxs:sm\n\tcss .wrong bg:red3 bxs:sm\n\tcss .pending bg:blue3 bxs:sm\n\n\tcss .card \n\t\tbd:1px solid rgba(0, 0, 0, .15)\n\t\trd:15px p:3\n\t\tbxs:sm\n\n\tprop id\n\tprop title\n\tprop exercises\n\tprop answers\n\tprop choices\n\n\tdef mount\n\t\trenderTex self\n\t\t\n\tdef setup\n\t\tload id\n\t\tif (choices is null) or not (choices.constructor === Array)\n\t\t\tchoices = []\n\t\t\tfor i in [0 ... exercises.length]\n\t\t\t\tif i % 5 == 0\n\t\t\t\t\tidx = i/5\n\t\t\t\t\tchoices.push(new Question!)\n\n\tdef save choices\n\t\twindow.localStorage.setItem(id, JSON.stringify(choices))\n\n\tdef load id\n\t\tchoices = JSON.parse(window.localStorage.getItem id)\n\n\tdef clear id\n\t\tsure = window.confirm('B\u1EA1n c\u00F3 ch\u1EAFc mu\u1ED1n h\u1EE7y t\u1EA5t c\u1EA3 c\u00E1c c\u00E2u \u0111\u00E3 l\u00E0m v\u00E0 l\u00E0m l\u1EA1i?')\n\t\tif sure\n\t\t\twindow.localStorage.removeItem id\n\t\t\twindow.scrollTo(0, 0)\n\t\t\twindow.location.reload()\n\t\n\tdef submit id\n\t\tname = window.localStorage.getItem('name')\n\t\tif name is null\n\t\t\tname = window.prompt(\"H\u00E3y nh\u1EADp t\u00EAn c\u1EE7a b\u1EA1n\", \"Harry Potter\")\n\t\telse\n\t\t\tname = window.prompt(\"H\u00E3y nh\u1EADp t\u00EAn c\u1EE7a b\u1EA1n\", name)\n\n\t\tif not (name is null)\n\t\t\twindow.localStorage.setItem('name', name)\n\n\t\twindow.fetch('https://vietanh.space:5000/submit', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {'Content-Type':'application/json'}, \n\t\t\tbody: JSON.stringify({\"name\": name, \"data\": choices})\n\t\t})\n\t\t.then do(res)\n\t\t\tconsole.log \"submitted\"\n\t\t\tdata = await res.json()\n\t\t\tconsole.log data.response\n\n\tdef score \n\t\tcorrects = 0\n\t\ttotal = 0\n\n\t\tfor item, i in choices \n\t\t\tif item.pending\n\t\t\t\ttotal += 1\n\t\t\t\tif item.current === answers[i].toUpperCase()\n\t\t\t\t\tcorrects += 1\n\n\t\ttotal == 0 ? ratio = 0 : ratio = corrects / total\n\t\toverall = corrects / choices.length\n\n\t\treturn (100*ratio).toFixed(0), (10*overall).toFixed(1)\n\n\tdef displayResult\n\t\t$result.style.display = 'block'\n\n\tdef checkCorrect label, i\n\t\tif label == answers[i/5].toUpperCase()\n\t\t\tchoices[i/5][label] = 'correct'\n\t\t\tchoices[i/5].correct = yes\n\t\telse\n\t\t\tchoices[i/5][label] = 'wrong'\n\n\tdef removePending choice, label\n\t\tfor label in ['A', 'B', 'C', 'D']\n\t\t\tif choice[label] == 'pending'\n\t\t\t\tchoice[label] = ''\n\t\treturn choice\n\n\tdef choose e, i, label\n\n\t\tel = e.target\n\n\t\tif choices[i/5].round >= 2 or choices[i/5].correct or choices[i/5][label]=='wrong'\n\t\t\treturn\n\n\t\tif choices[i/5].pending\n\t\t\tif choices[i/5][label] == 'pending'\n\t\t\t\tcheckCorrect label, i\n\t\t\t\tchoices[i/5].round += 1\n\t\t\telse\n\t\t\t\tchoices[i/5] = removePending choices[i/5], label\n\t\t\t\tchoices[i/5][label] = 'pending'\n\t\telse \n\t\t\tchoices[i/5].pending = yes\n\t\t\tchoices[i/5][label] = 'pending'\n\n\t\tchoices[i/5].current = label\n\t\tsave choices\n\t\t\n\n\t<self>\n\t\t<h2 [ta:center fs:1.5rem fw:bold bg:blue3 p:5 m:3 rd:20px m:20px c:gray8]> title\n\t\t\n\t\t<div [w@sm:90% @md:70% @lg:60% @xl:40% m:auto]> for ex, i in exercises by 5\n\t\t\t<div.card >\n\t\t\t\t<p [fw:bold c:purple6]> \"C\u00E2u {i/5+1}\"\n\t\t\t\tif 'http' in ex\n\t\t\t\t\t<p> ex.slice(0, ex.indexOf('http'))\n\t\t\t\t\t<center><img [pb:2] src=ex.slice(ex.indexOf('http'))>\n\t\t\t\telse\n\t\t\t\t\t<p [pb:2]> ex\n\t\t\t\t<p.choice .{choices[i/5].A} @click=choose(e, i, 'A')> \"A. {exercises[i+1]}\"\n\t\t\t\t<p.choice .{choices[i/5].B} @click=choose(e, i, 'B')> 'B. ', exercises[i+2]\n\t\t\t\t<p.choice .{choices[i/5].C} @click=choose(e, i, 'C')> 'C. ', exercises[i+3]\n\t\t\t\t<p.choice .{choices[i/5].D} @click=choose(e, i, 'D')> 'D. ', exercises[i+4]\n\t\t\t<br>\n\n\t\t<[ta:center mb:4rem]>\n\t\t\tcss button ff:sans fs:20px fw:bold\n\t\t\t<p$result [d:none fs:11]> \"T\u1EC9 l\u1EC7 \u0111\u00FAng: {score()[0]}%. \u0110i\u1EC3m: {score()[1]}\u0111.\"\n\t\t\t<button [bg:blue4 c:blue1] @click.displayResult> \"Xem k\u1EBFt qu\u1EA3\"\n\t\t\t<button [bg:green4 c:green1] @click=submit(id)> \"G\u1EEDi k\u1EBFt qu\u1EA3\"\n\t\t\t<button [bg:red4 c:red1] @click=clear(id)> \"L\u00E0m l\u1EA1i\"\n\t\t\t\n\nimba.mount <Main>\n"],
  "mappings": "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",
  "names": []
}
